{"remainingRequest":"C:\\Users\\Asus\\Desktop\\lcsc-demo\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Asus\\Desktop\\lcsc-demo\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Asus\\Desktop\\lcsc-demo\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Asus\\Desktop\\lcsc-demo\\src\\components\\pages\\login\\retrievePwd.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Asus\\Desktop\\lcsc-demo\\src\\components\\pages\\login\\retrievePwd.vue","mtime":1561012452974},{"path":"C:\\Users\\Asus\\Desktop\\lcsc-demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Asus\\Desktop\\lcsc-demo\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Asus\\Desktop\\lcsc-demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Asus\\Desktop\\lcsc-demo\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Asus\\\\Desktop\\\\lcsc-demo\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      //  进度条\n      active: 0,\n      // 找回方式\n      wayShow: \"true\",\n      // 验证身份\n      identityShow: false,\n      // 手机找回\n      phoneShow: \"false\",\n      // 邮箱找回\n      emailShow: \"false\",\n      // 设置密码\n      setPwdIsShow: \"false\",\n      secondBgc: \"\",\n      color: \"\",\n      thirdBgc: \"\",\n      verificationCode: \"\",\n      //图片验证码\n      // 表单验证的数据\n      ruleForm1: {\n        checkCode: \"\",\n        phone: \"\",\n        code: \"\"\n      },\n      ruleForm2: {\n        checkCode: \"\",\n        email: \"\",\n        code: \"\"\n      },\n      // 手机验证码\n      phoneCode: \"\",\n      // 表单验证的规则\n      rules1: {\n        phone: [{\n          required: true,\n          message: \"请输入11位数手机号\",\n          trigger: \"blur\"\n        }, {\n          min: 11,\n          max: 11,\n          message: \"长度在11个字符\",\n          trigger: \"blur\"\n        }],\n        checkCode: [{\n          required: true,\n          message: \"请输入图片中的校验码\",\n          trigger: \"blur\"\n        }, {\n          min: 4,\n          max: 4,\n          message: \"长度在4个字符\",\n          trigger: \"blur\"\n        }],\n        code: [{\n          required: true,\n          message: \"请输入手机验证码\",\n          trigger: \"blur\"\n        }, {\n          min: 6,\n          max: 6,\n          message: \"长度在6个字符\",\n          trigger: \"blur\"\n        }]\n      },\n      rules2: {\n        email: [{\n          required: true,\n          message: \"请输入邮箱\",\n          trigger: \"blur\"\n        }],\n        checkCode: [{\n          required: true,\n          message: \"请输入图片中的校验码\",\n          trigger: \"blur\"\n        }, {\n          min: 4,\n          max: 4,\n          message: \"长度在4个字符\",\n          trigger: \"blur\"\n        }],\n        code: [{\n          required: true,\n          message: \"请输入手机验证码\",\n          trigger: \"blur\"\n        }, {\n          min: 6,\n          max: 6,\n          message: \"长度在6个字符\",\n          trigger: \"blur\"\n        }]\n      }\n    };\n  },\n  methods: {\n    isPhoneShow: function isPhoneShow() {\n      this.identityShow = true;\n      this.phoneShow = true;\n      this.emailShow = false;\n      this.setPwdIsShow = false;\n      this.wayShow = false;\n      this.color = \"#fff\";\n      this.secondBgc = \"#018dda\";\n    },\n    isPhonehide: function isPhonehide() {\n      this.phoneShow = false;\n      this.emailShow = true;\n    },\n    isEmailhide: function isEmailhide() {\n      this.phoneShow = true;\n      this.emailShow = false;\n    },\n    isEmailShow: function isEmailShow() {\n      this.phoneShow = false;\n      this.emailShow = true;\n      this.setPwdIsShow = false;\n      this.wayShow = false;\n      this.identityShow = true;\n      this.color = \"#fff\";\n      this.secondBgc = \"#018dda\";\n    },\n    // 图片验证码\n    createCode: function createCode() {\n      //通过随机数生成验证码\n      this.verificationCode = \"\";\n      var code = \"\";\n      var codeLength = 4; //验证码长度\n\n      var random = new Array(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, \"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"I\", \"J\", \"K\", \"L\", \"M\", \"N\", \"O\", \"P\", \"Q\", \"R\", \"S\", \"T\", \"U\", \"V\", \"W\", \"X\", \"Y\", \"Z\");\n\n      for (var i = 0; i < codeLength; i++) {\n        var index = Math.floor(Math.random() * 36);\n        code += random[index];\n      }\n\n      this.verificationCode = code;\n    },\n    confirmTheCode: function confirmTheCode() {\n      //验证函数\n      var customerCode = this.ruleForm1.checkCode.toUpperCase(); //把你输入的小写转化为大写\n\n      if (customerCode == 0) {\n        this.createCode();\n        this.ruleForm1.checkCode = \"\";\n        alert(\"请输入验证码\");\n      } else if (customerCode != this.verificationCode) {\n        this.createCode();\n        this.ruleForm1.checkCode = \"\";\n        alert(\"验证码不正确，请重新输入\");\n      } else {\n        alert(\"输入正确\");\n      }\n    },\n    getduanxin: function () {\n      var _getduanxin = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var phone, res;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                phone = this.ruleForm1.phone;\n                _context.next = 3;\n                return this.$http.get(\"/api/member/sso/getAuthCode?telephone=\".concat(phone));\n\n              case 3:\n                res = _context.sent;\n                this.phoneCode = res.data;\n                console.log(\"发送了\");\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getduanxin() {\n        return _getduanxin.apply(this, arguments);\n      }\n\n      return getduanxin;\n    }(),\n    //  发送验证码\n    transmitCode: function () {\n      var _transmitCode = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (this.ruleForm1.phone) {\n                  if (this.ruleForm1.checkCode) {// let phone = this.ruleForm1.phone;\n                    // let res = await this.$http.get(\n                    //   `/api/member/sso/getAuthCode?telephone=${phone}`\n                    // );\n                    // this.phoneCode = res.data;\n                  } else {\n                    this.$message({\n                      message: \"请输入图片验证码！\",\n                      type: \"warning\"\n                    });\n                  }\n                } else {\n                  this.$message({\n                    message: \"请输入您手机号码！\",\n                    type: \"warning\"\n                  });\n                }\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function transmitCode() {\n        return _transmitCode.apply(this, arguments);\n      }\n\n      return transmitCode;\n    }(),\n    setPwd: function setPwd(ruleForm) {\n      var _this = this;\n\n      this.$refs[ruleForm].validate(function (valid) {\n        if (valid) {\n          // 数据正确\n          console.log(_this.ruleForm1);\n          console.log(valid);\n\n          _this.getduanxin();\n\n          alert('成功');\n        } else {\n          // 数据错误\n          // this.$message.error(\"请正确输入用户名和密码\");\n          alert('失败');\n          return false;\n        }\n      });\n    }\n  },\n  mounted: function mounted() {\n    this.createCode();\n  }\n};",{"version":3,"sources":["retrievePwd.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div id=\"retrievepwd\">\r\n    <!-- 找回密码 -->\r\n\r\n    <div class=\"from-menu\">\r\n      <div class=\"title\">\r\n        <h2>\r\n          找回密码\r\n          <i class=\"el-icon-lock\"></i>\r\n        </h2>\r\n      </div>\r\n      <div class=\"content\">\r\n        <div class=\"steps\">\r\n          <div class=\"first checked\">\r\n            <i>1</i>\r\n            <span>选择找回方式</span>\r\n          </div>\r\n          <div class=\"second\" :style=\"{backgroundColor:secondBgc,color:color}\">\r\n            <i>2</i>\r\n            <span>验证用户身份</span>\r\n          </div>\r\n          <div class=\"third\" :style=\"thirdBgc\">\r\n            <i>3</i>\r\n            <span>设置密码</span>\r\n          </div>\r\n        </div>\r\n        <!-- 找回方式 -->\r\n        <div class=\"way\" v-show=\"wayShow\">\r\n          <div class=\"phone\">\r\n            <a href=\"javascript:;\" @click=\"isPhoneShow\">\r\n              <i class=\"el-icon-mobile-phone\"></i>\r\n              <span>手机找回</span>\r\n            </a>\r\n            <p>使用手机找回客编及密码</p>\r\n          </div>\r\n          <div class=\"email\">\r\n            <a href=\"javascript:;\" @click=\"isEmailShow\">\r\n              <i class=\"el-icon-message\"></i>\r\n              <span>邮箱找回</span>\r\n            </a>\r\n            <p>使用邮箱找回客编及密码</p>\r\n          </div>\r\n        </div>\r\n        <!-- 验证用户身份 -->\r\n        <div class=\"identity\" v-if=\"identityShow\">\r\n          <el-form\r\n            class=\"pwdForm phone-way\"\r\n            v-show=\"phoneShow\"\r\n            :model=\"ruleForm1\"\r\n            :rules=\"rules1\"\r\n            label-width=\"80px\"\r\n            ref=\"ruleForm1\"\r\n          >\r\n            <el-form-item label=\"填写您的手机号码：\" prop=\"phone\">\r\n              <el-input v-model=\"ruleForm1.phone\" placeholder=\"填写11位长度手机号\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"输入图片校验码：\" prop=\"checkCode\">\r\n              <el-input v-model=\"ruleForm1.checkCode\" placeholder=\"填写图片校验码\"></el-input>\r\n              <div class=\"img-code\">\r\n                <span class=\"code-style\" @click=\"createCode\">{{verificationCode}}</span>\r\n              </div>\r\n            </el-form-item>\r\n            <el-form-item label=\"输入手机验证码：\" prop=\"code\">\r\n              <el-input v-model=\"ruleForm1.code\" placeholder=\"填写手机收到的验证码\"></el-input>\r\n              <el-button type=\"warning\" plain class=\"code-btn\" @click=\"transmitCode\">发送验证码</el-button>\r\n            </el-form-item>\r\n            <el-form-item>\r\n              <el-button type=\"warning\" class=\"next\" @click=\"setPwd('ruleForm1')\">下一步</el-button>\r\n              <a href=\"javascript:;\" @click=\"isPhonehide\">使用邮箱找回密码</a>\r\n            </el-form-item>\r\n          </el-form>\r\n          <el-form\r\n            class=\"pwdForm email-way\"\r\n            v-show=\"emailShow\"\r\n            :model=\"ruleForm2\"\r\n            :rules=\"rules2\"\r\n            label-width=\"80px\"\r\n            ref=\"ruleForm2\"\r\n          >\r\n            <el-form-item label=\"填写您的邮箱：\" prop=\"email\">\r\n              <el-input v-model=\"ruleForm2.email\" placeholder=\"请填写邮箱号\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"输入图片校验码：\" prop=\"checkCode\">\r\n              <el-input v-model=\"ruleForm2.checkCode\" placeholder=\"填写图片校验码\"></el-input>\r\n              <div class=\"img-code\">\r\n                <span class=\"code-style\" @click=\"createCode\">{{verificationCode}}</span>\r\n              </div>\r\n            </el-form-item>\r\n            <el-form-item label=\"输入邮箱验证码：\" prop=\"code\">\r\n              <el-input v-model=\"ruleForm2.code\" placeholder=\"填写邮箱收到的验证码\"></el-input>\r\n              <el-button type=\"warning\" plain class=\"code-btn\" @click=\"transmitCode\">发送验证码</el-button>\r\n            </el-form-item>\r\n            <el-form-item label>\r\n              <el-button type=\"warning\" class=\"next\" @click=\"confirmTheCode()\">下一步</el-button>\r\n              <a href=\"javascript:;\" @click=\"isEmailhide\">使用手机找回密码</a>\r\n            </el-form-item>\r\n          </el-form>\r\n        </div>\r\n\r\n        <!-- 设置密码 -->\r\n        <div class=\"set-pwd\" v-if=\"setPwdIsShow=false\">\r\n          <el-form :model=\"ruleForm1\" :rules=\"rules1\" label-width=\"80px\" ref=\"ruleForm1\">\r\n            <el-form-item label=\"密码:\" prop=\"pass\">\r\n              <el-input\r\n                type=\"password\"\r\n                v-model=\"ruleForm1.pass\"\r\n                autocomplete=\"off\"\r\n                placeholder=\"字母与数字组合至少6位\"\r\n              ></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"确认密码:\" prop=\"checkPass\">\r\n              <el-input\r\n                type=\"password\"\r\n                v-model=\"ruleForm1.checkPass\"\r\n                autocomplete=\"off\"\r\n                placeholder=\"字母与数字组合至少6位\"\r\n              ></el-input>\r\n            </el-form-item>\r\n            <el-form-item label>\r\n              <el-button type=\"warning\" class=\"next\">完&nbsp;&nbsp;&nbsp;&nbsp;成</el-button>\r\n            </el-form-item>\r\n          </el-form>\r\n        </div>\r\n        <div class=\"set\"></div>\r\n      </div>\r\n      <div class=\"footer\">\r\n        <span class=\"notice\">\r\n          <i class=\"el-icon-warning\"></i>\r\n          如以上方式都不可行的情况下，请选择以下方式\r\n        </span>\r\n        <div class=\"follows\">\r\n          1、加我司的企业QQ。PCB/钢网业务：\r\n          <font color=\"#1196db\">\r\n            <b>800005884</b>\r\n          </font>，元器件业务：\r\n          <font color=\"#1196db\">\r\n            <b>4000800709</b>\r\n          </font>\r\n          <br>2、提供相关的查询资料 如：贵方的公司名，联系地址，联系信息\r\n          <br>3、我司工作人员核实了相关信息，如果系统上存在信息，则我司会与系统上记录人进行联系。\r\n          <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;如果联系后，对方同意，则把你的客户编号及初始化后的密码发到您的手机上，如果对方不同意，则只有重新注册。\r\n          <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;如果无法核实到或者联系不到注册的联系人，则只有重新注册客户资料\r\n          <br>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      //  进度条\r\n      active: 0,\r\n      // 找回方式\r\n      wayShow: \"true\",\r\n      // 验证身份\r\n      identityShow: false,\r\n      // 手机找回\r\n      phoneShow: \"false\",\r\n      // 邮箱找回\r\n      emailShow: \"false\",\r\n      // 设置密码\r\n      setPwdIsShow: \"false\",\r\n\r\n      secondBgc: \"\",\r\n      color: \"\",\r\n      thirdBgc: \"\",\r\n      verificationCode: \"\", //图片验证码\r\n      // 表单验证的数据\r\n      ruleForm1: {\r\n        checkCode: \"\",\r\n        phone: \"\",\r\n        code: \"\"\r\n      },\r\n      ruleForm2: {\r\n        checkCode: \"\",\r\n        email: \"\",\r\n        code: \"\"\r\n      },\r\n      // 手机验证码\r\n      phoneCode: \"\",\r\n      // 表单验证的规则\r\n      rules1: {\r\n        phone: [\r\n          { required: true, message: \"请输入11位数手机号\", trigger: \"blur\" },\r\n          { min: 11, max: 11, message: \"长度在11个字符\", trigger: \"blur\" }\r\n        ],\r\n        checkCode: [\r\n          { required: true, message: \"请输入图片中的校验码\", trigger: \"blur\" },\r\n          { min: 4, max: 4, message: \"长度在4个字符\", trigger: \"blur\" }\r\n        ],\r\n        code: [\r\n          { required: true, message: \"请输入手机验证码\", trigger: \"blur\" },\r\n          { min: 6, max: 6, message: \"长度在6个字符\", trigger: \"blur\" }\r\n        ]\r\n      },\r\n      rules2: {\r\n        email: [\r\n          { required: true, message: \"请输入邮箱\", trigger: \"blur\" },\r\n        ],\r\n        checkCode: [\r\n          { required: true, message: \"请输入图片中的校验码\", trigger: \"blur\" },\r\n          { min: 4, max: 4, message: \"长度在4个字符\", trigger: \"blur\" }\r\n        ],\r\n        code: [\r\n          { required: true, message: \"请输入手机验证码\", trigger: \"blur\" },\r\n          { min: 6, max: 6, message: \"长度在6个字符\", trigger: \"blur\" }\r\n        ]\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    isPhoneShow() {\r\n      this.identityShow = true;\r\n      this.phoneShow = true;\r\n      this.emailShow = false;\r\n      this.setPwdIsShow = false;\r\n      this.wayShow = false;\r\n      this.color = \"#fff\";\r\n      this.secondBgc = \"#018dda\";\r\n    },\r\n\r\n    isPhonehide() {\r\n      this.phoneShow = false;\r\n      this.emailShow = true;\r\n    },\r\n    isEmailhide() {\r\n      this.phoneShow = true;\r\n      this.emailShow = false;\r\n    },\r\n\r\n    isEmailShow() {\r\n      this.phoneShow = false;\r\n      this.emailShow = true;\r\n      this.setPwdIsShow = false;\r\n      this.wayShow = false;\r\n      this.identityShow = true;\r\n      this.color = \"#fff\";\r\n      this.secondBgc = \"#018dda\";\r\n    },\r\n\r\n    // 图片验证码\r\n    createCode: function() {\r\n      //通过随机数生成验证码\r\n      this.verificationCode = \"\";\r\n      var code = \"\";\r\n      var codeLength = 4; //验证码长度\r\n      var random = new Array(\r\n        0,\r\n        1,\r\n        2,\r\n        3,\r\n        4,\r\n        5,\r\n        6,\r\n        7,\r\n        8,\r\n        9,\r\n        \"A\",\r\n        \"B\",\r\n        \"C\",\r\n        \"D\",\r\n        \"E\",\r\n        \"F\",\r\n        \"G\",\r\n        \"H\",\r\n        \"I\",\r\n        \"J\",\r\n        \"K\",\r\n        \"L\",\r\n        \"M\",\r\n        \"N\",\r\n        \"O\",\r\n        \"P\",\r\n        \"Q\",\r\n        \"R\",\r\n        \"S\",\r\n        \"T\",\r\n        \"U\",\r\n        \"V\",\r\n        \"W\",\r\n        \"X\",\r\n        \"Y\",\r\n        \"Z\"\r\n      );\r\n      for (var i = 0; i < codeLength; i++) {\r\n        var index = Math.floor(Math.random() * 36);\r\n        code += random[index];\r\n      }\r\n      this.verificationCode = code;\r\n    },\r\n    confirmTheCode: function() {\r\n      //验证函数\r\n      var customerCode = this.ruleForm1.checkCode.toUpperCase(); //把你输入的小写转化为大写\r\n      if (customerCode == 0) {\r\n        this.createCode();\r\n        this.ruleForm1.checkCode = \"\";\r\n        alert(\"请输入验证码\");\r\n      } else if (customerCode != this.verificationCode) {\r\n        this.createCode();\r\n        this.ruleForm1.checkCode = \"\";\r\n        alert(\"验证码不正确，请重新输入\");\r\n      } else {\r\n        alert(\"输入正确\");\r\n      }\r\n    },\r\n    async getduanxin(){\r\n       let phone = this.ruleForm1.phone;\r\n          let res = await this.$http.get(\r\n            `/api/member/sso/getAuthCode?telephone=${phone}`\r\n          );\r\n          this.phoneCode = res.data;\r\n          console.log(\"发送了\")\r\n    },\r\n    //  发送验证码\r\n    async transmitCode() {\r\n      if (this.ruleForm1.phone) {\r\n        if (this.ruleForm1.checkCode) {\r\n          // let phone = this.ruleForm1.phone;\r\n          // let res = await this.$http.get(\r\n          //   `/api/member/sso/getAuthCode?telephone=${phone}`\r\n          // );\r\n          // this.phoneCode = res.data;\r\n        } else {\r\n          this.$message({\r\n            message: \"请输入图片验证码！\",\r\n            type: \"warning\"\r\n          });\r\n        }\r\n      } else {\r\n        this.$message({\r\n          message: \"请输入您手机号码！\",\r\n          type: \"warning\"\r\n        });\r\n      }\r\n    },\r\n\r\n    setPwd(ruleForm) {\r\n      this.$refs[ruleForm].validate(valid => {\r\n        if (valid) {\r\n          // 数据正确\r\n          console.log( this.ruleForm1)\r\n          console.log(valid);\r\n          this.getduanxin()\r\n          \r\n\r\n        alert('成功')\r\n        } else {\r\n          // 数据错误\r\n          // this.$message.error(\"请正确输入用户名和密码\");\r\n          alert('失败')\r\n          return false;\r\n        }\r\n      });\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    this.createCode();\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\" scope>\r\n#retrievepwd {\r\n  // 表单主体\r\n  .from-menu {\r\n    width: 940px;\r\n    height: 600px;\r\n    border-radius: 10px;\r\n    background-color: #fff;\r\n    margin-top: 20px;\r\n    .title {\r\n      width: 100%;\r\n      height: 78px;\r\n      line-height: 78px;\r\n      box-shadow: 0px 5px 0px #ccc;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      h2 {\r\n        padding-left: 30px;\r\n        font-size: 22px;\r\n        color: #6f6f6f;\r\n      }\r\n    }\r\n    .content {\r\n      margin-top: 10px;\r\n      padding: 20px 30px 0;\r\n      // 进度条\r\n      .steps {\r\n        width: 100%;\r\n        height: 40px;\r\n        background-color: #ccc;\r\n        font-size: 16px;\r\n        display: flex;\r\n        text-align: center;\r\n        .checked {\r\n          background-color: #018dda;\r\n          color: #fff;\r\n        }\r\n        i {\r\n          font-size: 28px;\r\n          line-height: 32px;\r\n        }\r\n        .first {\r\n          width: 33.33%;\r\n          height: 100%;\r\n        }\r\n        .second {\r\n          width: 33.33%;\r\n          height: 100%;\r\n        }\r\n        .third {\r\n          width: 33.33%;\r\n          height: 100%;\r\n        }\r\n      }\r\n\r\n      // 找回方式\r\n      .way {\r\n        margin: 80px 0;\r\n        display: flex;\r\n        justify-content: space-around;\r\n        a {\r\n          display: block;\r\n          width: 200px;\r\n          height: 60px;\r\n          background-color: #e3e5e7;\r\n          border-radius: 4px;\r\n          box-shadow: 2px 4px 6px #ccc;\r\n          background: -webkit-linear-gradient(#eee, #ccc);\r\n          font-size: 14px;\r\n          font-weight: bold;\r\n          text-align: center;\r\n          line-height: 60px;\r\n          i {\r\n            font-size: 26px;\r\n            color: #018dda;\r\n            line-height: 26px;\r\n            vertical-align: middle;\r\n            margin-right: 10px;\r\n          }\r\n        }\r\n        .phone,\r\n        .email {\r\n          text-align: center;\r\n          p {\r\n            margin-top: 10px;\r\n            font-size: 8px;\r\n          }\r\n        }\r\n      }\r\n\r\n      // 验证身份\r\n      .pwdForm {\r\n        padding: 20px 60px 0;\r\n        .el-form-item__label {\r\n          font-size: 16px;\r\n          width: 200px !important;\r\n        }\r\n        .el-form-item__content {\r\n          width: 340px;\r\n          margin-left: 200px !important;\r\n          position: relative;\r\n          .el-input__inner {\r\n            border: 1px solid #d7d7d7;\r\n          }\r\n          // 图片验证\r\n\r\n          .img-code {\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: center;\r\n            position: absolute;\r\n            right: -116px;\r\n            top: 5px;\r\n          }\r\n\r\n          .code-style {\r\n            display: inline-block;\r\n            text-align: center;\r\n            width: 80px;\r\n            height: 30px;\r\n            line-height: 30px;\r\n            background-color: #0677fe;\r\n            font-size: 16px;\r\n            color: #fff;\r\n            font-weight: bold;\r\n            cursor: pointer;\r\n            margin-right: 4px;\r\n          }\r\n\r\n          // 手机验证码\r\n          .code-btn {\r\n            position: absolute;\r\n            right: -144px;\r\n            bottom: 0px;\r\n          }\r\n\r\n          .el-checkbox {\r\n            margin-right: 0;\r\n          }\r\n\r\n          .el-button.next {\r\n            font-size: 22px;\r\n            background-color: #fc6e06;\r\n            padding: 10px 70px;\r\n          }\r\n          a {\r\n            color: #0677fe;\r\n            font-size: 14px;\r\n            margin-left: 10px;\r\n          }\r\n        }\r\n        .clause {\r\n          color: #409eff;\r\n        }\r\n      }\r\n    }\r\n\r\n    .footer {\r\n      padding: 0 30px;\r\n      .notice {\r\n        color: #f00;\r\n        font-size: 10px;\r\n        line-height: 40px;\r\n        display: block;\r\n        width: 100%;\r\n        border-bottom: 1px dashed #999;\r\n        i {\r\n          font-size: 20px;\r\n          line-height: 20px;\r\n          vertical-align: middle;\r\n        }\r\n      }\r\n      .follows {\r\n        margin-top: 10px;\r\n        padding: 0 20px;\r\n        line-height: 24px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>"],"sourceRoot":"src/components/pages/login"}]}