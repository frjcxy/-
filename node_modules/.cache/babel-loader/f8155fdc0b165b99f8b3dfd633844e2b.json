{"remainingRequest":"C:\\Users\\Asus\\Desktop\\lcsc-demo\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Asus\\Desktop\\lcsc-demo\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Asus\\Desktop\\lcsc-demo\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Asus\\Desktop\\lcsc-demo\\src\\components\\pages\\tabPages\\listdetails.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Asus\\Desktop\\lcsc-demo\\src\\components\\pages\\tabPages\\listdetails.vue","mtime":1560738790689},{"path":"C:\\Users\\Asus\\Desktop\\lcsc-demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Asus\\Desktop\\lcsc-demo\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Asus\\Desktop\\lcsc-demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Asus\\Desktop\\lcsc-demo\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Asus\\\\Desktop\\\\lcsc-demo\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Cookies from \"js-cookie\";\nexport default {\n  inject: [\"reload\"],\n  data: function data() {\n    return {\n      // showAdd: false,\n      bigImgShow: null,\n      // 获取商品列表\n      commodityData: [],\n      // 商品\n      commodityTitle: \"\",\n      // 获取单个商品信息\n      commodityDetailsData: {},\n      // 商品图片\n      imgArr: [],\n      // 价格梯度\n      priceGradientData: [],\n      // 价格\n      changePrice: 0,\n      currentPage4: 1,\n      categoryData: [],\n      menuData: [],\n      menuSecondData: [],\n      // 对话框\n      buyDialogVisible: false,\n      // 根据id获取商品属性\n      getProductAttriData: [],\n      // 购买数量\n      buyNum: 1,\n      //属性\n      valueList: [],\n      // 页码页容量\n      sendData: {\n        pageNum: 1,\n        pageSize: 5\n      },\n      //总条数\n      total: 0\n    };\n  },\n  created: function created() {\n    this.getCommodityListData();\n    this.bigImgShow = false;\n    this.getCrumbsData();\n    this.getFilterProductAttriData();\n    this.mouseLeave();\n    this.currentPage4 = Number(localStorage.getItem(\"pagination\")) || 1;\n    this.currentChange(this.currentPage4);\n  },\n  beforeUpdate: function beforeUpdate() {\n    // 解决翻页后刷新不回到第一页问题\n    localStorage.setItem(\"pagination\", this.currentPage4);\n  },\n  beforeDestroy: function beforeDestroy() {\n    localStorage.setItem(\"pagination\", \"1\");\n  },\n  methods: {\n    // 左侧菜单导航栏\n    getCrumbsData: function getCrumbsData() {\n      var id = this.$route.params.id;\n      this.menuData = this.$store.state.tabData;\n    },\n    // 获取二三级分类\n    thirdCategory: function () {\n      var _thirdCategory = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(id) {\n        var res;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.$http.get(\"/api/home/getProductCategoryTwoAndThree/\".concat(id));\n\n              case 2:\n                res = _context.sent;\n                this.categoryData = res.data;\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function thirdCategory(_x) {\n        return _thirdCategory.apply(this, arguments);\n      }\n\n      return thirdCategory;\n    }(),\n    // 商品价格\n    howMany: function howMany() {\n      var _this = this;\n\n      this.priceGradientData.forEach(function (pri, index) {\n        if (_this.buyNum >= _this.priceGradientData[index].count) {\n          _this.changePrice = _this.priceGradientData[index].price;\n        } else if (_this.buyNum <= _this.priceGradientData[0].count) {\n          _this.changePrice = _this.priceGradientData[0].price;\n        }\n      });\n    },\n    // 商品排序\n    synthesizeSort: function synthesizeSort() {// return this.commodityData.sort(productLadderList[0].price)\n    },\n    repertorySort: function repertorySort() {},\n    priceSort: function priceSort() {\n      this.sortFlag = this.sortFlag == 1 ? -1 : 1;\n      this.sendData.pageNum = 1;\n      this.getCommodityListData();\n    },\n    amountSort: function amountSort() {},\n    // 列表前翻页\n    pageUp: function pageUp() {\n      --this.sendData.pageNum;\n\n      if (this.sendData.pageNum <= 1) {\n        this.sendData.pageNum = 1;\n        this.getCommodityListData();\n      }\n    },\n    pageDn: function pageDn() {\n      ++this.sendData.pageNum;\n\n      if (this.sendData.pageNum >= Math.ceil(this.total / this.sendData.pageSize)) {\n        this.sendData.pageNum = Math.ceil(this.total / this.sendData.pageSize);\n        this.getCommodityListData();\n      }\n    },\n    // 列表后翻页\n    sizeChange: function sizeChange(size) {\n      this.sendData.pageSize = size;\n      this.getCommodityListData(); // document.documentElement.scrollTop = 550; //翻页时回到商品列表顶部\n    },\n    currentChange: function currentChange(current) {\n      this.loading = true;\n      this.currentPage4 = current;\n      this.sendData.pageNum = current;\n      this.getCommodityListData(); // document.documentElement.scrollTop = 550;\n    },\n    // 获取商品列表数据\n    getCommodityListData: function () {\n      var _getCommodityListData = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        var _this2 = this;\n\n        var id, res;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                id = this.$route.params.id;\n                _context2.next = 3;\n                return this.$http.get(\"/api/produce/productLadder/\".concat(id, \"?pageSize=\").concat(this.sendData.pageSize, \"&pageNum=\").concat(this.sendData.pageNum));\n\n              case 3:\n                res = _context2.sent;\n                res.data.pageData.forEach(function (i) {\n                  _this2.imgArr = i.pmsProduct.albumPics.split(\",\");\n                });\n                this.commodityData = res.data.pageData;\n                this.commodityTitle = this.commodityData[0].pmsProduct.subTitle;\n                this.total = res.data.totalCount;\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getCommodityListData() {\n        return _getCommodityListData.apply(this, arguments);\n      }\n\n      return getCommodityListData;\n    }(),\n    // 编程式导航\n    toDoCommodityList: function toDoCommodityList(id) {\n      this.$router.push(\"/shopping/listdetails/\".concat(id));\n      this.getCommodityListData();\n    },\n    // 根据id获取商品属性\n    getFilterProductAttriData: function () {\n      var _getFilterProductAttriData = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3() {\n        var id, res;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                id = this.$route.params.id;\n                _context3.next = 3;\n                return this.$http.get(\"/api/produce/getProductAttributeByCategoryId?productCategoryId=\".concat(id));\n\n              case 3:\n                res = _context3.sent;\n                this.getProductAttriData = res.data;\n\n              case 5:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function getFilterProductAttriData() {\n        return _getFilterProductAttriData.apply(this, arguments);\n      }\n\n      return getFilterProductAttriData;\n    }(),\n    // 给每个属性添加事件\n    setList: function () {\n      var _setList = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee4(item) {\n        var data, res;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                data = item.value;\n                this.valueList.push({\n                  name: data\n                });\n                _context4.next = 4;\n                return this.$http.get(\"/api/produce/filterProductAttribute?value=\".concat(item.value));\n\n              case 4:\n                res = _context4.sent;\n\n              case 5:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function setList(_x2) {\n        return _setList.apply(this, arguments);\n      }\n\n      return setList;\n    }(),\n    // 点击标签页删除\n    clickTagOut: function clickTagOut(name) {\n      this.valueList.splice(this.valueList.indexOf(name), 1);\n    },\n    // 清除筛选\n    delFilter: function delFilter() {\n      this.valueList = [];\n    },\n    //获取筛选后的商品列表\n    applyFilter: function applyFilter() {\n      var _this3 = this;\n\n      this.valueList.forEach(\n      /*#__PURE__*/\n      function () {\n        var _ref = _asyncToGenerator(\n        /*#__PURE__*/\n        regeneratorRuntime.mark(function _callee5(item) {\n          var res;\n          return regeneratorRuntime.wrap(function _callee5$(_context5) {\n            while (1) {\n              switch (_context5.prev = _context5.next) {\n                case 0:\n                  _context5.next = 2;\n                  return _this3.$http.get(\"/api/produce/productLadder/attribute/\".concat(item.name, \"?pageSize=10&pageNum=1\"));\n\n                case 2:\n                  res = _context5.sent;\n                  _this3.commodityData = res.data.pageData;\n                  _this3.total = res.data.totalCount;\n\n                case 5:\n                case \"end\":\n                  return _context5.stop();\n              }\n            }\n          }, _callee5);\n        }));\n\n        return function (_x3) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    },\n    // 鼠标移入移出事件\n    mouseOver: function mouseOver(index) {\n      this.bigImgShow = index;\n    },\n    // 移出\n    mouseLeave: function mouseLeave() {\n      this.bigImgShow = null;\n    },\n    // 加入收藏夹\n    openCollectBox: function () {\n      var _openCollectBox = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee6(id) {\n        var _this4 = this;\n\n        var res;\n        return regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                if (!window.sessionStorage.getItem(\"token\")) {\n                  _context6.next = 7;\n                  break;\n                }\n\n                _context6.next = 3;\n                return this.$http.post(\"/api/member/collection/addProduct?ids=\".concat(id));\n\n              case 3:\n                res = _context6.sent;\n\n                // 判断该商品是否已加入收藏;\n                if (res.data === 0) {\n                  this.$message({\n                    type: \"info\",\n                    message: \"当前收藏夹已有该商品！\"\n                  });\n                } else {\n                  this.$alert(\"<strong><div class='add_success'>\\n      <span class='el-icon-success'></span>\\n      <div>\\n        <p class='title'>\\u8BE5\\u5546\\u54C1\\u5DF2\\u7ECF\\u6210\\u529F\\u6DFB\\u52A0\\u5230\\u4E86\\u60A8\\u7684\\u6536\\u85CF\\u5939</p>\\n        <p>\\n        <a href='http://localhost:8080/#/shopping/member/favorite'>\\u67E5\\u770B\\u6211\\u7684\\u6536\\u85CF\\u5939</a></p>\\n      </div>\\n    </div></strong>\", \"我的收藏\", {\n                    dangerouslyUseHTMLString: true\n                  });\n                }\n\n                _context6.next = 8;\n                break;\n\n              case 7:\n                this.$confirm(\"您还没登录，请登录后再收藏。, 是否现在登录?\", \"提示\", {\n                  confirmButtonText: \"确定\",\n                  cancelButtonText: \"取消\",\n                  type: \"warning\"\n                }).then(function () {\n                  _this4.$router.push(\"/login\");\n                }).catch(function () {});\n\n              case 8:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function openCollectBox(_x4) {\n        return _openCollectBox.apply(this, arguments);\n      }\n\n      return openCollectBox;\n    }(),\n    // 获取单个商品信息 // 显示弹窗事件\n    showDialog: function () {\n      var _showDialog = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee7(id) {\n        var categoryId, res;\n        return regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                this.buyDialogVisible = true;\n                categoryId = this.$route.params.id;\n                _context7.next = 4;\n                return this.$http.get(\"/api/produce/getProductDetail?categoryId=\".concat(categoryId, \"&productId=\").concat(id));\n\n              case 4:\n                res = _context7.sent;\n                this.commodityDetailsData = res.data.pmsProduct;\n                this.priceGradientData = res.data.productLadderList;\n                this.changePrice = this.priceGradientData[0].price;\n\n              case 8:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function showDialog(_x5) {\n        return _showDialog.apply(this, arguments);\n      }\n\n      return showDialog;\n    }(),\n    //加入购物车事件\n    addToShopCart: function () {\n      var _addToShopCart = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee8() {\n        var data, res;\n        return regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                this.buyDialogVisible = false;\n                data = {\n                  brandName: this.commodityDetailsData.brandName,\n                  picPath: this.commodityDetailsData.pic,\n                  productId: this.commodityDetailsData.id,\n                  productName: this.commodityDetailsData.name,\n                  productNumber: this.buyNum,\n                  productPrice: this.changePrice,\n                  productSn: this.commodityDetailsData.productSn,\n                  productSpecifications: this.commodityDetailsData.productSpecifications,\n                  productType: this.commodityDetailsData.productType,\n                  unit: this.commodityDetailsData.unit,\n                  unitNum: this.commodityDetailsData.unitNum,\n                  stock: this.commodityDetailsData.stock\n                }; // if (window.sessionStorage.getItem(\"token\")) {\n\n                _context8.next = 4;\n                return this.$http.post(\"/api/member/cart/add\", data);\n\n              case 4:\n                res = _context8.sent;\n                this.$message({\n                  type: \"success\",\n                  message: \"已加入购物车！\"\n                });\n                this.$store.commit(\"setShoppingCart\", res.data);\n                this.reload(); //刷新当前页\n                // } else {\n                //   Cookies.set(\"shoppingCartData\", data);\n                //   this.$message({\n                //     type: \"success\",\n                //     message: \"已加入本地\"\n                //   });\n                // }\n\n              case 8:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      function addToShopCart() {\n        return _addToShopCart.apply(this, arguments);\n      }\n\n      return addToShopCart;\n    }()\n  },\n  computed: {\n    // 筛选后的数量\n    checkedData: function checkedData() {\n      var num = this.valueList.length;\n      return num;\n    }\n  }\n};",{"version":3,"sources":["listdetails.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div id=\"list_details\" v-cloak>\r\n    <!-- 商品列表页 -->\r\n    <!-- 面包屑 -->\r\n    <div class=\"crumbs\">\r\n      <mybreadxie></mybreadxie>\r\n    </div>\r\n    <el-row class=\"main-box\">\r\n      <!-- 菜单 -->\r\n      <el-col :span=\"4\" class=\"catalog\">\r\n        <div class=\"grid-content bg-purple\">\r\n          <el-menu default-active=\"2\" class=\"el-menu-vertical-demo\" unique-opened>\r\n            <el-submenu\r\n              v-for=\"(item,index) in $store.state.setCategoryData\"\r\n              :key=\"index\"\r\n              :index=\"index+''\"\r\n            >\r\n              <template slot=\"title\">\r\n                <span @click=\"thirdCategory(item.oneId)\">{{item.oneName}}</span>\r\n              </template>\r\n              <el-submenu v-for=\"(it,index2) in item.productCategoriesTwo\" :key=\"index2\" :index=\"it.twoId+''\">\r\n                <template slot=\"title\">\r\n                  <router-link :to=\"`/shopping/listdetails/${it.twoId}`\">{{it.twoName}}</router-link>\r\n                </template>\r\n                <el-menu-item\r\n                  v-for=\"(i,index2) in it.productCategoriesThree\"\r\n                  :key=\"index2\"\r\n                  :index=\"i.id+''\"\r\n                >\r\n                  <a @click=\"toDoCommodityList(i.id)\">{{i.name}}</a>\r\n                </el-menu-item>\r\n              </el-submenu>\r\n            </el-submenu>\r\n          </el-menu>\r\n        </div>\r\n      </el-col>\r\n      <el-col :span=\"18\" class=\"commodity\">\r\n        <div class=\"grid-content bg-purple-light\">\r\n          <!-- 商品分类标题 -->\r\n          <div class=\"title\">\r\n            当前\r\n            <i class=\"name\">\" {{commodityTitle}} \"</i>共\r\n            <i class=\"num\">{{total}}</i>件相关商品\r\n          </div>\r\n          <div class=\"filtrate_module\">\r\n            <ul class=\"filtrate_list\">\r\n              <li class=\"filtrate\" v-for=\"(item,index) in getProductAttriData\" :key=\"index\">\r\n                <h4>{{item.pmsProductAttribute.name}}</h4>\r\n                <div class=\"filtrate_search\">\r\n                  <el-input></el-input>\r\n                  <i class=\"el-icon-search\"></i>\r\n                  <ul>\r\n                    <li\r\n                      v-for=\"(it,index2) in item.pmsProductAttributeValues\"\r\n                      :key=\"index2\"\r\n                      @click=\"setList(it)\"\r\n                    >{{it.value}}</li>\r\n                  </ul>\r\n                </div>\r\n              </li>\r\n            </ul>\r\n            <!-- 筛选 -->\r\n            <div class=\"checked\">\r\n              <span>当前选择：</span>\r\n              <div class=\"tagbox\">\r\n                <el-tag\r\n                  class=\"tag\"\r\n                  v-for=\"(tag,index3) in valueList\"\r\n                  :key=\"index3\"\r\n                  closable\r\n                  @close=\"clickTagOut(tag)\"\r\n                  :type=\"tag.type\"\r\n                >{{tag.name}}</el-tag>\r\n              </div>\r\n            </div>\r\n            <!-- 筛选按钮模块 -->\r\n            <div class=\"screen-out\">\r\n              <el-button type=\"warning\" plain size=\"mini\" @click=\"delFilter\">清除筛选</el-button>\r\n              <el-button type=\"primary\" size=\"mini\" @click=\"applyFilter\">应用筛选</el-button>\r\n              <span class=\"result\">\r\n                筛选结果：\r\n                <i>{{total}}</i>\r\n              </span>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- 商品状态模块 -->\r\n          <div class=\"commodity-state\">\r\n            <table border=\"1\">\r\n              <tr>\r\n                <th @click=\"synthesizeSort\">综合排序</th>\r\n                <th @click=\"repertorySort\">库存</th>\r\n                <th @click=\"priceSort\">价格</th>\r\n                <th @click=\"amountSort\">数量</th>\r\n                <!-- 页码 -->\r\n                <th class=\"pages\">\r\n                  <span class=\"current-page\">{{this.sendData.pageNum}}</span>/\r\n                  <span class=\"total-page\">{{Math.ceil(this.total/this.sendData.pageSize)}}</span>\r\n                </th>\r\n                <th @click=\"pageUp\">\r\n                  <i class=\"el-icon-arrow-left\"></i>\r\n                </th>\r\n                <th @click=\"pageDn\">\r\n                  <i class=\"el-icon-arrow-right\"></i>\r\n                </th>\r\n              </tr>\r\n            </table>\r\n            <div class=\"price-screening\">\r\n              <el-input placeholder=\"请输入关键字\" class=\"keyword\" size=\"mini\"></el-input>&nbsp;&nbsp;\r\n              <span>价格筛选 (小批量) &nbsp;: &nbsp;&nbsp;</span>\r\n              <el-input size=\"mini\" class=\"time\"></el-input>&nbsp;&nbsp;-&nbsp;&nbsp;\r\n              <el-input size=\"mini\" class=\"time\"></el-input>\r\n              <a href=\"#\" class=\"search-btn\">在结果中搜索</a>\r\n              <el-checkbox class=\"cash-commodity\">现货商品</el-checkbox>\r\n              <div class=\"conform\">\r\n                符合条件商品:\r\n                <i class=\"num\">{{total}}</i>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- 商品信息列表 -->\r\n          <div class=\"commodity-message\">\r\n            <ul class=\"message-list\">\r\n              <li v-for=\"(item,index) in commodityData\" :key=\"index\">\r\n                <el-row>\r\n                  <el-col :span=\"3\">\r\n                    <div class=\"grid-content bg-purple img-box\">\r\n                      <div class=\"img_small_box\">\r\n                        <div @mouseover=\"mouseOver(index)\" @mouseleave=\"mouseLeave(index)\">\r\n                          <a href=\"javascript:;\">\r\n                            <img :src=\"item.pmsProduct.pic\" alt>\r\n                          </a>\r\n                          <div class=\"big-img\" v-show=\"bigImgShow == index\">\r\n                            <a href=\"javascript:;\">\r\n                              <img :src=\"item.pmsProduct.pic\" alt>\r\n                            </a>\r\n                            <div class=\"img-list\">\r\n                              <el-carousel :interval=\"4000\" type=\"card\" height=\"100px\">\r\n                                <el-carousel-item v-for=\"it in imgArr\" :key=\"it\">\r\n                                  <img :src=\"it\" alt>\r\n                                </el-carousel-item>\r\n                              </el-carousel>\r\n                            </div>\r\n                            <p>温馨提醒：图片仅供参考，商品以实物为准</p>\r\n                            <span class=\"triangle\"></span>\r\n                          </div>\r\n                        </div>\r\n                        <a href=\"javascript:;\" class=\"operation\">对比</a>\r\n                        <a\r\n                          href=\"javascript:;\"\r\n                          class=\"operation\"\r\n                          @click=\"openCollectBox(item.pmsProduct.id)\"\r\n                        >收藏</a>\r\n                      </div>\r\n                    </div>\r\n                  </el-col>\r\n                  <el-col :span=\"11\">\r\n                    <div class=\"grid-content bg-purple-light introduce\">\r\n                      <router-link\r\n                        :to=\"{path:'/shopping/particulars',query:{categoryId:`${item.pmsProduct.productCategoryId}`,productId:`${item.pmsProduct.id}`}}\"\r\n                      >{{item.pmsProduct.name}}</router-link>\r\n                      <ul>\r\n                        <li>\r\n                          商品编号：\r\n                          <i>{{item.pmsProduct.productSn}}</i>\r\n                        </li>\r\n                        <li>\r\n                          品牌：\r\n                          <i>{{item.pmsProduct.brandName}}</i>\r\n                        </li>\r\n                        <li>\r\n                          封装规格：\r\n                          <i>{{item.pmsProduct.productSpecifications}}</i>\r\n                        </li>\r\n                        <li>\r\n                          型号：\r\n                          <i>{{item.pmsProduct.productType}}</i>\r\n                        </li>\r\n                      </ul>\r\n                      <p class=\"handbook\">\r\n                        <i class=\"el-icon-folder-opened\"></i>\r\n                        数据手册\r\n                      </p>\r\n                      <span class=\"famous\">知名品牌</span>\r\n                    </div>\r\n                  </el-col>\r\n                  <el-col :span=\"5\">\r\n                    <div class=\"grid-content bg-purple tax\">\r\n                      <ul>\r\n                        <li>\r\n                          <p>含增值税</p>\r\n                        </li>\r\n                        <li v-for=\"(it,index2) in item.productLadderList\" :key=\"index2\">\r\n                          <p>{{it.count}}+:&nbsp;&nbsp;</p>\r\n                          <span>\r\n                            ￥\r\n                            <i>{{it.price}}</i>\r\n                          </span>\r\n                        </li>\r\n                      </ul>\r\n                    </div>\r\n                  </el-col>\r\n                  <el-col :span=\"5\">\r\n                    <div class=\"grid-content bg-purple-light buy\">\r\n                      <ul>\r\n                        <li>\r\n                          1袋有\r\n                          <i>1000</i>个\r\n                        </li>\r\n                        <li>\r\n                          近期约售:\r\n                          <i>{{item.pmsProduct.sale}}</i>个\r\n                        </li>\r\n                        <li>\r\n                          库存:\r\n                          <i>{{item.pmsProduct.stock}}</i>个\r\n                        </li>\r\n                        <li>可订货</li>\r\n                        <li>\r\n                          <el-button\r\n                            type=\"warning\"\r\n                            size=\"medium\"\r\n                            @click=\"showDialog(item.pmsProduct.id)\"\r\n                          >我要买</el-button>\r\n                        </li>\r\n                      </ul>\r\n                    </div>\r\n                  </el-col>\r\n                </el-row>\r\n                <!-- 点击按钮【我要买】弹窗 -->\r\n                <el-dialog title=\"添加购物车\" :visible.sync=\"buyDialogVisible\" width=\"40%\" :key=\"index\">\r\n                  <div class=\"content\">\r\n                    <div class=\"left\">\r\n                      <ul>\r\n                        <li>\r\n                          <span>商品名称：</span>\r\n                          <i>{{commodityDetailsData.name}}</i>\r\n                        </li>\r\n                        <li>\r\n                          <span>原厂型号：</span>\r\n                          <i>{{commodityDetailsData.productSn}}</i>\r\n                        </li>\r\n                        <li>\r\n                          <span>品&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;牌：</span>\r\n                          <i>{{commodityDetailsData.brandName}}</i>\r\n                        </li>\r\n                        <li>\r\n                          <span>封装规格：</span>\r\n                          <i>{{commodityDetailsData.productSpecifications}}</i>\r\n                        </li>\r\n                        <li>\r\n                          <span>现货库存：</span>\r\n                          <i>{{commodityDetailsData.stock}}个</i>\r\n                        </li>\r\n                      </ul>\r\n                    </div>\r\n                    <div class=\"right\">\r\n                      <ul>\r\n                        <li>含增值税</li>\r\n                        <li v-for=\"(i,num) in priceGradientData\" :key=\"num\">\r\n                          <span>{{i.count}}+ :</span>\r\n                          <i>￥{{i.price}}</i>\r\n                        </li>\r\n                      </ul>\r\n                    </div>\r\n                  </div>\r\n                  <span slot=\"footer\" class=\"dialog-footer\">\r\n                    <div></div>\r\n                    <ul>\r\n                      <li>\r\n                        <span>购买数量：</span>\r\n                        <input\r\n                          min=\"1\"\r\n                          :max=\"commodityDetailsData.stock\"\r\n                          type=\"number\"\r\n                          v-model=\"buyNum\"\r\n                          @input=\"howMany\"\r\n                        > ✖\r\n                        <i>￥{{changePrice}}</i> =\r\n                        <i>￥{{(buyNum*changePrice).toFixed(2)}}</i>\r\n                      </li>\r\n                      <li>\r\n                        <span>购买数量：</span>\r\n                        <input type=\"number\">\r\n                        <span>\r\n                          盒（1盒有）\r\n                          <i>{{2500}}</i>个\r\n                        </span>\r\n                      </li>\r\n                      <li class=\"add_shop_cart\">\r\n                        <el-button type=\"warning\" @click=\"addToShopCart()\">加入购物车</el-button>\r\n                      </li>\r\n                    </ul>\r\n                  </span>\r\n                </el-dialog>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n\r\n          <!-- 分页 -->\r\n          <div class=\"pages\">\r\n            <el-pagination\r\n              @size-change=\"sizeChange\"\r\n              @current-change=\"currentChange\"\r\n              :current-page=\"currentPage4\"\r\n              :page-sizes=\"[5, 10, 15, 20]\"\r\n              :page-size=\"sendData.pageSize\"\r\n              layout=\"total,sizes, prev, pager, next, jumper\"\r\n              :total=\"total\"\r\n            ></el-pagination>\r\n          </div>\r\n\r\n          <!-- 海外代购 -->\r\n          <div class=\"agent-shopping\">\r\n            <el-button type=\"primary\">海外代购</el-button>\r\n          </div>\r\n        </div>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Cookies from \"js-cookie\";\r\nexport default {\r\n  inject: [\"reload\"],\r\n  data() {\r\n    return {\r\n      // showAdd: false,\r\n      bigImgShow: null,\r\n      // 获取商品列表\r\n      commodityData: [],\r\n      // 商品\r\n      commodityTitle: \"\",\r\n      // 获取单个商品信息\r\n      commodityDetailsData: {},\r\n      // 商品图片\r\n      imgArr: [],\r\n      // 价格梯度\r\n      priceGradientData: [],\r\n      // 价格\r\n      changePrice: 0,\r\n      currentPage4: 1,\r\n      categoryData: [],\r\n      menuData: [],\r\n      menuSecondData: [],\r\n      // 对话框\r\n      buyDialogVisible: false,\r\n      // 根据id获取商品属性\r\n      getProductAttriData: [],\r\n      // 购买数量\r\n      buyNum: 1,\r\n      //属性\r\n      valueList: [],\r\n      // 页码页容量\r\n      sendData: {\r\n        pageNum: 1,\r\n        pageSize: 5\r\n      },\r\n      //总条数\r\n      total: 0\r\n    };\r\n  },\r\n  created() {\r\n    this.getCommodityListData();\r\n    this.bigImgShow = false;\r\n    this.getCrumbsData();\r\n    this.getFilterProductAttriData();\r\n    this.mouseLeave();\r\n    this.currentPage4 = Number(localStorage.getItem(\"pagination\")) || 1;\r\n    this.currentChange(this.currentPage4);\r\n  },\r\n  beforeUpdate() {\r\n    // 解决翻页后刷新不回到第一页问题\r\n    localStorage.setItem(\"pagination\", this.currentPage4);\r\n  },\r\n  beforeDestroy() {\r\n    localStorage.setItem(\"pagination\", \"1\");\r\n  },\r\n\r\n  methods: {\r\n    // 左侧菜单导航栏\r\n    getCrumbsData() {\r\n      let id = this.$route.params.id;\r\n      this.menuData = this.$store.state.tabData;\r\n    },\r\n    // 获取二三级分类\r\n    async thirdCategory(id) {\r\n      let res = await this.$http.get(\r\n        `/api/home/getProductCategoryTwoAndThree/${id}`\r\n      );\r\n      this.categoryData = res.data;\r\n    },\r\n    // 商品价格\r\n    howMany() {\r\n      this.priceGradientData.forEach((pri, index) => {\r\n        if (this.buyNum >= this.priceGradientData[index].count) {\r\n          this.changePrice = this.priceGradientData[index].price;\r\n        } else if (this.buyNum <= this.priceGradientData[0].count) {\r\n          this.changePrice = this.priceGradientData[0].price;\r\n        }\r\n      });\r\n    },\r\n\r\n    // 商品排序\r\n    synthesizeSort() {\r\n      // return this.commodityData.sort(productLadderList[0].price)\r\n    },\r\n\r\n    repertorySort() {},\r\n\r\n    priceSort() {\r\n      this.sortFlag = this.sortFlag == 1 ? -1 : 1;\r\n      this.sendData.pageNum = 1;\r\n      this.getCommodityListData();\r\n    },\r\n    amountSort() {},\r\n\r\n    // 列表前翻页\r\n    pageUp() {\r\n      --this.sendData.pageNum;\r\n      if (this.sendData.pageNum <= 1) {\r\n        this.sendData.pageNum = 1;\r\n        this.getCommodityListData();\r\n      }\r\n    },\r\n    pageDn() {\r\n      ++this.sendData.pageNum;\r\n      if (\r\n        this.sendData.pageNum >= Math.ceil(this.total / this.sendData.pageSize)\r\n      ) {\r\n        this.sendData.pageNum = Math.ceil(this.total / this.sendData.pageSize);\r\n        this.getCommodityListData();\r\n      }\r\n    },\r\n\r\n    // 列表后翻页\r\n    sizeChange(size) {\r\n      this.sendData.pageSize = size;\r\n      this.getCommodityListData();\r\n      // document.documentElement.scrollTop = 550; //翻页时回到商品列表顶部\r\n    },\r\n\r\n    currentChange(current) {\r\n      this.loading = true;\r\n      this.currentPage4 = current;\r\n      this.sendData.pageNum = current;\r\n      this.getCommodityListData();\r\n      // document.documentElement.scrollTop = 550;\r\n    },\r\n    // 获取商品列表数据\r\n    async getCommodityListData() {\r\n      let id = this.$route.params.id;\r\n      let res = await this.$http.get(\r\n        `/api/produce/productLadder/${id}?pageSize=${\r\n          this.sendData.pageSize\r\n        }&pageNum=${this.sendData.pageNum}`\r\n      );\r\n\r\n      res.data.pageData.forEach(i => {\r\n        this.imgArr = i.pmsProduct.albumPics.split(\",\");\r\n      });\r\n      this.commodityData = res.data.pageData;\r\n      this.commodityTitle = this.commodityData[0].pmsProduct.subTitle;\r\n      this.total = res.data.totalCount;\r\n    },\r\n\r\n    // 编程式导航\r\n    toDoCommodityList(id) {\r\n      this.$router.push(`/shopping/listdetails/${id}`);\r\n      this.getCommodityListData();\r\n    },\r\n\r\n    // 根据id获取商品属性\r\n    async getFilterProductAttriData() {\r\n      let id = this.$route.params.id;\r\n      let res = await this.$http.get(\r\n        `/api/produce/getProductAttributeByCategoryId?productCategoryId=${id}`\r\n      );\r\n\r\n      this.getProductAttriData = res.data;\r\n    },\r\n\r\n    // 给每个属性添加事件\r\n    async setList(item) {\r\n      let data = item.value;\r\n      this.valueList.push({ name: data });\r\n      let res = await this.$http.get(\r\n        `/api/produce/filterProductAttribute?value=${item.value}`\r\n      );\r\n    },\r\n    // 点击标签页删除\r\n    clickTagOut(name) {\r\n      this.valueList.splice(this.valueList.indexOf(name), 1);\r\n    },\r\n\r\n    // 清除筛选\r\n    delFilter() {\r\n      this.valueList = [];\r\n    },\r\n\r\n    //获取筛选后的商品列表\r\n    applyFilter() {\r\n      this.valueList.forEach(async item => {\r\n        let res = await this.$http.get(\r\n          `/api/produce/productLadder/attribute/${\r\n            item.name\r\n          }?pageSize=10&pageNum=1`\r\n        );\r\n        this.commodityData = res.data.pageData;\r\n        this.total = res.data.totalCount;\r\n      });\r\n    },\r\n\r\n    // 鼠标移入移出事件\r\n    mouseOver(index) {\r\n      this.bigImgShow = index;\r\n    },\r\n    // 移出\r\n    mouseLeave() {\r\n      this.bigImgShow = null;\r\n    },\r\n\r\n    // 加入收藏夹\r\n    async openCollectBox(id) {\r\n      if (window.sessionStorage.getItem(\"token\")) {\r\n        // 调用接口\r\n        let res = await this.$http.post(\r\n          `/api/member/collection/addProduct?ids=${id}`\r\n        );\r\n        // 判断该商品是否已加入收藏;\r\n        if (res.data === 0) {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"当前收藏夹已有该商品！\"\r\n          });\r\n        } else {\r\n          this.$alert(\r\n            `<strong><div class='add_success'>\r\n      <span class='el-icon-success'></span>\r\n      <div>\r\n        <p class='title'>该商品已经成功添加到了您的收藏夹</p>\r\n        <p>\r\n        <a href='http://localhost:8080/#/shopping/member/favorite'>查看我的收藏夹</a></p>\r\n      </div>\r\n    </div></strong>`,\r\n            \"我的收藏\",\r\n            {\r\n              dangerouslyUseHTMLString: true\r\n            }\r\n          );\r\n        }\r\n      } else {\r\n        this.$confirm(\"您还没登录，请登录后再收藏。, 是否现在登录?\", \"提示\", {\r\n          confirmButtonText: \"确定\",\r\n          cancelButtonText: \"取消\",\r\n          type: \"warning\"\r\n        })\r\n          .then(() => {\r\n            this.$router.push(\"/login\");\r\n          })\r\n          .catch(() => {});\r\n      }\r\n    },\r\n\r\n    // 获取单个商品信息 // 显示弹窗事件\r\n    async showDialog(id) {\r\n      this.buyDialogVisible = true;\r\n      let categoryId = this.$route.params.id;\r\n      let res = await this.$http.get(\r\n        `/api/produce/getProductDetail?categoryId=${categoryId}&productId=${id}`\r\n      );\r\n      this.commodityDetailsData = res.data.pmsProduct;\r\n      this.priceGradientData = res.data.productLadderList;\r\n      this.changePrice = this.priceGradientData[0].price;\r\n    },\r\n\r\n    //加入购物车事件\r\n    async addToShopCart() {\r\n      this.buyDialogVisible = false;\r\n      let data = {\r\n        brandName: this.commodityDetailsData.brandName,\r\n        picPath: this.commodityDetailsData.pic,\r\n        productId: this.commodityDetailsData.id,\r\n        productName: this.commodityDetailsData.name,\r\n        productNumber: this.buyNum,\r\n        productPrice: this.changePrice,\r\n        productSn: this.commodityDetailsData.productSn,\r\n        productSpecifications: this.commodityDetailsData.productSpecifications,\r\n        productType: this.commodityDetailsData.productType,\r\n        unit: this.commodityDetailsData.unit,\r\n        unitNum: this.commodityDetailsData.unitNum,\r\n        stock: this.commodityDetailsData.stock\r\n      };\r\n\r\n      // if (window.sessionStorage.getItem(\"token\")) {\r\n      let res = await this.$http.post(\"/api/member/cart/add\", data);\r\n      this.$message({\r\n        type: \"success\",\r\n        message: \"已加入购物车！\"\r\n      });\r\n\r\n      this.$store.commit(\"setShoppingCart\", res.data);\r\n      this.reload(); //刷新当前页\r\n      // } else {\r\n      //   Cookies.set(\"shoppingCartData\", data);\r\n      //   this.$message({\r\n      //     type: \"success\",\r\n      //     message: \"已加入本地\"\r\n      //   });\r\n      // }\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    // 筛选后的数量\r\n    checkedData() {\r\n      let num = this.valueList.length;\r\n      return num;\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\" scope>\r\n#list_details {\r\n  .main-box {\r\n    margin-top: 20px;\r\n    // 目录\r\n    .catalog {\r\n      width: 240px;\r\n      .el-menu {\r\n        background-color: #eee;\r\n        & > li {\r\n          span {\r\n            display: block;\r\n            width: 100%;\r\n            height: 100%;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    // 商品\r\n    .commodity {\r\n      margin-left: 15px;\r\n      // 商品分类标题\r\n      span.title {\r\n        font-size: 14px;\r\n        color: #9a9a9a;\r\n        .name {\r\n          color: #666;\r\n        }\r\n        .num {\r\n          color: #ff7800;\r\n        }\r\n      }\r\n\r\n      .filtrate_module {\r\n        margin: 10px 0;\r\n        border: 1px solid #ccc;\r\n        .filtrate_list {\r\n          overflow-y: scroll;\r\n          height: 250px;\r\n          width: 100%;\r\n          white-space: nowrap;\r\n          .filtrate {\r\n            width: 150px;\r\n            padding: 0 5px;\r\n            display: inline-block;\r\n            h4 {\r\n              font-size: 14px;\r\n              font-weight: bold;\r\n              line-height: 40px;\r\n              color: #444;\r\n            }\r\n            .filtrate_search {\r\n              position: relative;\r\n              border: 1px solid #ccc;\r\n              .el-input {\r\n                .el-input__inner {\r\n                  height: 24px;\r\n                  border: none;\r\n                  border-radius: 0;\r\n                  border-bottom: 1px solid #ccc;\r\n                  line-height: 24px;\r\n                }\r\n              }\r\n              .el-icon-search {\r\n                display: block;\r\n                width: 24px;\r\n                height: 24px;\r\n                line-height: 24px;\r\n                text-align: center;\r\n                font-size: 14px;\r\n                cursor: pointer;\r\n\r\n                position: absolute;\r\n                right: 0px;\r\n                top: 0;\r\n              }\r\n              ul {\r\n                width: 100%;\r\n                height: 140px;\r\n                overflow-y: scroll;\r\n                li {\r\n                  cursor: pointer;\r\n                  line-height: 24px;\r\n                  padding-left: 10px;\r\n                  &:hover {\r\n                    background-color: #409eff;\r\n                    color: #fff;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n        // 筛选tag\r\n        .checked {\r\n          line-height: 35px;\r\n          margin-top: 10px;\r\n          padding-left: 20px;\r\n          display: flex;\r\n          & > span {\r\n            font-size: 14px;\r\n            font-weight: bold;\r\n            display: inline-block;\r\n            width: 80px;\r\n          }\r\n          .tagbox {\r\n            flex: 1;\r\n            .tag {\r\n              margin: 0 2px;\r\n              padding: 0 10px;\r\n              word-wrap: break-word;\r\n              word-break: break-all;\r\n              overflow: hidden;\r\n            }\r\n          }\r\n        }\r\n        // 筛选按钮模块\r\n        .screen-out {\r\n          text-align: right;\r\n          padding: 5px 50px;\r\n          .result {\r\n            margin-left: 20px;\r\n            i {\r\n              color: #ff7800;\r\n              font-size: 14px;\r\n              font-weight: bold;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      // 商品状态模块\r\n      .commodity-state {\r\n        margin-top: 10px;\r\n        table {\r\n          tr {\r\n            th {\r\n              border: 1px solid #ccc;\r\n              padding: 10px 20px;\r\n              font-size: 14px;\r\n              cursor: pointer;\r\n              &:hover {\r\n                color: #fff;\r\n                background-color: #409eff;\r\n              }\r\n              &.pages {\r\n                width: 442px;\r\n                text-align: right;\r\n                padding-right: 10px;\r\n                cursor: default;\r\n                &:hover {\r\n                  color: #000;\r\n                  background-color: #fff;\r\n                }\r\n                .current-page {\r\n                  color: #409eff;\r\n                  font-weight: bold;\r\n                }\r\n              }\r\n              i {\r\n                font-size: 20px;\r\n              }\r\n            }\r\n          }\r\n        }\r\n        .price-screening {\r\n          margin: 10px 0;\r\n          display: flex;\r\n          align-items: center;\r\n          .keyword {\r\n            width: 180px;\r\n          }\r\n\r\n          .time {\r\n            width: 80px;\r\n          }\r\n\r\n          .search-btn {\r\n            padding: 4px 12px;\r\n            margin: 0 30px 0 10px;\r\n            background-color: #b7b7b7;\r\n            color: #fff;\r\n            &:hover {\r\n              background-color: #0093e6;\r\n            }\r\n          }\r\n          .cash-commodity {\r\n            padding-right: 60px;\r\n            .el-checkbox__inner {\r\n              border: 1px solid #ccc;\r\n            }\r\n          }\r\n          .conform {\r\n            text-align: right;\r\n            color: #f00;\r\n            .num {\r\n              font-weight: bold;\r\n              font-size: 14px;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      // 商品信息列表\r\n      .commodity-message {\r\n        .message-list {\r\n          & > li {\r\n            padding: 10px;\r\n            border-top: 1px solid #ccc;\r\n            border-bottom: 1px solid #ccc;\r\n            &:hover {\r\n              background-color: #ebebeb;\r\n            }\r\n            // 商品图片\r\n            .img-box {\r\n              width: 100px;\r\n              height: 200px;\r\n              text-align: center;\r\n              margin-top: 10px;\r\n              position: relative;\r\n              .img_small_box {\r\n                .operation {\r\n                  font-size: 8px;\r\n                  display: inline-block;\r\n                  padding: 1px 8px;\r\n                  border: 1px solid #ccc;\r\n                  margin: 10px 2px 0;\r\n\r\n                  &:hover {\r\n                    color: #ee7600;\r\n                    border: 1px solid #ee7600;\r\n                  }\r\n                }\r\n                img {\r\n                  display: block;\r\n                  width: 100%;\r\n                  height: 100px;\r\n                  border: 1px solid #eee;\r\n                }\r\n              }\r\n\r\n              .big-img {\r\n                z-index: 999;\r\n                width: 340px;\r\n                border: 1px solid #ccc;\r\n                box-sizing: border-box;\r\n                box-shadow: 4px 4px 4px #ccc;\r\n                padding: 10px;\r\n                background-color: #fff;\r\n                position: absolute;\r\n                top: -120px;\r\n                left: 110px;\r\n                a {\r\n                  display: block;\r\n                  width: 300px;\r\n                  height: 300px;\r\n                  margin: auto;\r\n                  img {\r\n                    width: 100%;\r\n                    height: 100%;\r\n                  }\r\n                }\r\n\r\n                .img-list {\r\n                  margin-top: 10px;\r\n                  img {\r\n                    display: inline-block;\r\n                    width: 50px;\r\n                    height: 50px;\r\n                    margin: 0 4px;\r\n                    border: 1px solid #bdbdbd;\r\n                    text-align: center;\r\n                    vertical-align: middle;\r\n                  }\r\n                  .el-carousel__container {\r\n                    height: 60px !important;\r\n                    line-height: 60px;\r\n                  }\r\n                }\r\n                p {\r\n                  color: #9a9a9a;\r\n                }\r\n                .triangle {\r\n                  display: block;\r\n                  width: 0;\r\n                  height: 0;\r\n                  border-width: 8px 8px 8px 0;\r\n                  border-style: solid;\r\n                  border-color: transparent #e8e8e8 transparent transparent; /*透明 黄 透明 透明 */\r\n                  position: absolute;\r\n                  top: 160px;\r\n                  left: -8px;\r\n                }\r\n              }\r\n            }\r\n          }\r\n          // 商品信息\r\n          .introduce {\r\n            a {\r\n              color: #409eff;\r\n              font-size: 14px;\r\n              line-height: 34px;\r\n              display: block;\r\n              width: 350px;\r\n              overflow: hidden; /*超出部分隐藏*/\r\n              text-overflow: ellipsis; /* 超出部分显示省略号 */\r\n              white-space: nowrap; /*规定段落中的文本不进行换行 */\r\n            }\r\n            ul {\r\n              li {\r\n                color: #9a9a9a;\r\n                display: inline-block;\r\n                margin-right: 50px;\r\n                line-height: 26px;\r\n                i {\r\n                  color: #444;\r\n                }\r\n              }\r\n            }\r\n            .handbook {\r\n              font-size: 12px;\r\n              line-height: 34px;\r\n              color: #409eff;\r\n              .el-icon-folder-opened {\r\n                font-size: 16px;\r\n              }\r\n            }\r\n            .famous {\r\n              // display: block;\r\n              padding: 0 5px;\r\n              line-height: 34px;\r\n              color: #409eff;\r\n              border: 1px solid #409eff;\r\n            }\r\n          }\r\n          // 增值税\r\n          .tax {\r\n            margin-top: 40px;\r\n            ul {\r\n              li {\r\n                height: 26px;\r\n                color: #444;\r\n                p {\r\n                  float: left;\r\n                  width: 60%;\r\n                  text-align: right;\r\n                }\r\n                span {\r\n                  float: left;\r\n                  color: #ff7900;\r\n                }\r\n              }\r\n            }\r\n          }\r\n          .buy {\r\n            margin-top: 35px;\r\n            li {\r\n              color: #444;\r\n              text-align: right;\r\n              line-height: 30px;\r\n              i {\r\n                color: #ff7900;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    //分页\r\n    .pages {\r\n      text-align: right;\r\n      margin-top: 20px;\r\n    }\r\n\r\n    .agent-shopping {\r\n      margin: 30px 0;\r\n      text-align: center;\r\n    }\r\n  }\r\n\r\n  // 弹窗的样式\r\n  .el-dialog__header {\r\n    background: #f2f2f2;\r\n    border-bottom: 1px solid #dedede;\r\n    .el-dialog__title {\r\n      font-size: 14px;\r\n      font-weight: bold;\r\n    }\r\n  }\r\n\r\n  @keyframes bounceIn {\r\n    0% {\r\n      transform: scale(0);\r\n      opacity: 0.4;\r\n    }\r\n    0% {\r\n      transform: scale(0.7);\r\n      opacity: 0.8;\r\n    }\r\n    90% {\r\n      transform: scale(1);\r\n      left: 630px;\r\n      top: -480px;\r\n    }\r\n    100% {\r\n      transform: scale(0);\r\n    }\r\n  }\r\n\r\n  .content {\r\n    display: flex;\r\n    justify-content: space-around;\r\n    font-size: 12px;\r\n    .left {\r\n      ul {\r\n        li {\r\n          line-height: 40px;\r\n          span {\r\n            color: #9a9a9a;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .right {\r\n      ul {\r\n        li {\r\n          line-height: 30px;\r\n          &:nth-of-type(1) {\r\n            text-align: center;\r\n          }\r\n          span {\r\n            display: inline-block;\r\n            width: 100px;\r\n            text-align: right;\r\n          }\r\n          i {\r\n            color: #ff7b00;\r\n            margin-left: 5px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .dialog-footer {\r\n    display: flex;\r\n    div {\r\n      width: 300px;\r\n    }\r\n    ul {\r\n      flex: 1;\r\n      li {\r\n        text-align: left;\r\n        line-height: 30px;\r\n        &:nth-of-type(1) {\r\n          input {\r\n            color: #ee7600;\r\n          }\r\n\r\n          i {\r\n            color: #ee7600;\r\n            &:nth-last-of-type(1) {\r\n              font-size: 14px;\r\n              font-weight: bold;\r\n            }\r\n          }\r\n        }\r\n        input {\r\n          width: 60px;\r\n\r\n          padding-left: 4px;\r\n        }\r\n        &:nth-last-of-type(1) {\r\n          margin: 5px 0 20px;\r\n          .el-button {\r\n            padding: 10px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>"],"sourceRoot":"src/components/pages/tabPages"}]}