{"remainingRequest":"C:\\Users\\Asus\\Desktop\\lcsc-demo\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Asus\\Desktop\\lcsc-demo\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Asus\\Desktop\\lcsc-demo\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Asus\\Desktop\\lcsc-demo\\src\\components\\pages\\tabPages\\particulars.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Asus\\Desktop\\lcsc-demo\\src\\components\\pages\\tabPages\\particulars.vue","mtime":1560738790691},{"path":"C:\\Users\\Asus\\Desktop\\lcsc-demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Asus\\Desktop\\lcsc-demo\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Asus\\Desktop\\lcsc-demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Asus\\Desktop\\lcsc-demo\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Asus\\\\Desktop\\\\lcsc-demo\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport imgZoom from \"vue2.0-zoom\";\nimport { decode } from \"punycode\";\nexport default {\n  inject: [\"reload\"],\n  data: function data() {\n    return {\n      // 放大镜配置\n      configs: {\n        width: 500,\n        height: 500,\n        maskWidth: 150,\n        maskHeight: 150,\n        maskColor: \"#CFCFCF\",\n        maskOpacity: 0.3\n      },\n      // 图片切换\n      imgIsShow: -1,\n      // 登录提示框\n      dialogVisible: false,\n      categoryId: 0,\n      productId: 0,\n      setCommodityData: {},\n      imgArr: [],\n      buyNum: 1,\n      changePrice: 0,\n      // 价格梯度\n      priceGradientData: []\n    };\n  },\n  components: {\n    imgZoom: imgZoom\n  },\n  created: function created() {\n    this.atPresent();\n    this.categoryId = this.$route.query.categoryId;\n    this.productId = this.$route.query.productId;\n    this.getCommodityData(this.categoryId, this.productId);\n  },\n  methods: {\n    // 获取商品信息\n    getCommodityData: function () {\n      var _getCommodityData = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(id1, id2) {\n        var res;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.$http.get(\"/api/produce/getProductDetail?categoryId=\".concat(id1, \"&productId=\").concat(id2));\n\n              case 2:\n                res = _context.sent;\n                this.setCommodityData = res.data.pmsProduct;\n                this.imgArr = this.setCommodityData.albumPics.split(\",\");\n                this.priceGradientData = res.data.productLadderList;\n\n                if (this.buyNum <= this.priceGradientData[0].count) {\n                  this.changePrice = this.priceGradientData[0].price;\n                }\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getCommodityData(_x, _x2) {\n        return _getCommodityData.apply(this, arguments);\n      }\n\n      return getCommodityData;\n    }(),\n    // 当前选中的图片\n    atPresent: function atPresent(index, e) {\n      this.imgIsShow = index;\n      console.log(this.imgIsShow);\n\n      if (!this.imgIsShow) {\n        index = 0;\n        this.imgIsShow = index;\n      }\n    },\n    // 上一张\n    last: function last(index, e) {\n      this.imgIsShow--;\n    },\n    next: function next() {\n      this.imgIsShow++;\n    },\n    // 商品价格\n    howMany: function howMany(value) {\n      var _this = this;\n\n      this.priceGradientData.forEach(function (pri, index) {\n        if (_this.buyNum >= _this.priceGradientData[index].count) {\n          _this.changePrice = _this.priceGradientData[index].price;\n        } else if (_this.buyNum <= _this.priceGradientData[0].count) {\n          _this.changePrice = _this.priceGradientData[0].price;\n        }\n      });\n    },\n    // 加入购物车\n    addShoppingCart: function () {\n      var _addShoppingCart = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2(index) {\n        var data, res;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                data = {\n                  brandName: this.setCommodityData.brandName,\n                  picPath: this.setCommodityData.pic,\n                  productName: this.setCommodityData.name,\n                  productNumber: this.buyNum,\n                  productId: this.setCommodityData.id,\n                  productPrice: this.changePrice,\n                  productSpecifications: this.setCommodityData.productSpecifications,\n                  productType: this.setCommodityData.productType,\n                  productSn: this.setCommodityData.productSn,\n                  unit: this.setCommodityData.unit,\n                  unitNum: this.setCommodityData.unitNum,\n                  stock: this.setCommodityData.stock\n                };\n                _context2.next = 3;\n                return this.$http.post(\"/api/member/cart/add\", data);\n\n              case 3:\n                res = _context2.sent;\n                this.reload();\n                this.$message({\n                  type: \"success\",\n                  message: \"已成功加入购物车\"\n                });\n\n              case 6:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function addShoppingCart(_x3) {\n        return _addShoppingCart.apply(this, arguments);\n      }\n\n      return addShoppingCart;\n    }(),\n    // 收藏商品\n    collectBtn: function () {\n      var _collectBtn = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3() {\n        var _this2 = this;\n\n        var res;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (!window.sessionStorage.getItem(\"token\")) {\n                  _context3.next = 7;\n                  break;\n                }\n\n                _context3.next = 3;\n                return this.$http.post(\"/api/member/collection/addProduct?ids=\".concat(this.$route.query.productId));\n\n              case 3:\n                res = _context3.sent;\n\n                // 判断该商品是否已加入收藏;\n                if (res.data === 0) {\n                  this.$message({\n                    type: \"info\",\n                    message: \"当前收藏夹已有该商品！\"\n                  });\n                } else {\n                  this.$alert(\"<strong><div class='add_success'>\\n      <span class='el-icon-success'></span>\\n      <div>\\n        <p class='title'>\\u8BE5\\u5546\\u54C1\\u5DF2\\u7ECF\\u6210\\u529F\\u6DFB\\u52A0\\u5230\\u4E86\\u60A8\\u7684\\u6536\\u85CF\\u5939</p>\\n        <p>\\n        <a href='http://localhost:8080/#/shopping/member/favorite'>\\u67E5\\u770B\\u6211\\u7684\\u6536\\u85CF\\u5939</a></p>\\n      </div>\\n    </div></strong>\", \"我的收藏\", {\n                    dangerouslyUseHTMLString: true\n                  });\n                }\n\n                _context3.next = 8;\n                break;\n\n              case 7:\n                this.$confirm(\"您还没登录，请登录后再收藏。, 是否现在登录?\", \"提示\", {\n                  confirmButtonText: \"确定\",\n                  cancelButtonText: \"取消\",\n                  type: \"warning\"\n                }).then(function () {\n                  _this2.$router.push(\"/login\");\n                }).catch(function () {});\n\n              case 8:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function collectBtn() {\n        return _collectBtn.apply(this, arguments);\n      }\n\n      return collectBtn;\n    }(),\n    loginPromptBox: function loginPromptBox(done) {\n      this.$confirm(\"确认关闭？\").then(function (_) {\n        done();\n      }).catch(function (_) {});\n    },\n    gotoLogin: function gotoLogin() {\n      this.dialogVisible = false;\n      this.$router.push(\"/login\");\n    }\n  }\n};",{"version":3,"sources":["particulars.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div v-cloak>\r\n    <!-- 商品详情页 -->\r\n    <!-- 面包屑 -->\r\n    <div class=\"crumbs\">\r\n      <mybreadxie></mybreadxie>\r\n    </div>\r\n    <!-- 商品 -->\r\n    <div class=\"detail-main\">\r\n      <el-row>\r\n        <el-col :span=\"7\">\r\n          <div class=\"grid-content bg-purple img-box\">\r\n            <div class=\"commodity-img\">\r\n              <img-zoom\r\n                :src=\"setCommodityData.picPath\"\r\n                width=\"300\"\r\n                height=\"300\"\r\n                bigsrc=\"setCommodityData.picPath\"\r\n                :configs=\"configs\"\r\n              ></img-zoom>\r\n            </div>\r\n            <!-- 图片切换模块 -->\r\n            <div class=\"thum_cont\">\r\n              <a\r\n                href=\"javascript:;\"\r\n                class=\"switchover\"\r\n                v-for=\"(item,index) in imgArr\"\r\n                :key=\"index\"\r\n                :class=\"{active:imgIsShow === index}\"\r\n                @click=\"atPresent(index)\"\r\n              >\r\n                <img :src=\"item.pic\" alt>\r\n              </a>\r\n              <a href=\"javascript:;\" @click=\"last\">\r\n                <i class=\"el-icon-arrow-left arrows left\"></i>\r\n              </a>\r\n              <a href=\"javascript:;\" @click=\"next\">\r\n                <i class=\"el-icon-arrow-right arrows right\"></i>\r\n              </a>\r\n            </div>\r\n            <div class=\"reminder\">\r\n              <p>温馨提醒：图片仅供参考，商品以实物为准</p>\r\n            </div>\r\n            <div class=\"collect\">\r\n              <a href=\"javascript:;\" @click=\"collectBtn()\">\r\n                <i class=\"el-icon-star-off\"></i>收藏\r\n              </a>\r\n              <a href=\"javascript:;\">\r\n                <i class=\"el-icon-copy-document\"></i>对比\r\n              </a>\r\n            </div>\r\n\r\n            <!-- 未登录弹出框 -->\r\n            <el-dialog\r\n              title=\"提示\"\r\n              :visible.sync=\"dialogVisible\"\r\n              width=\"30%\"\r\n              :before-close=\"loginPromptBox\"\r\n            >\r\n              <span>您还没登录，请登录后再收藏。是否登录？</span>\r\n              <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button type=\"primary\" @click=\"gotoLogin\">确 定</el-button>\r\n                <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n              </span>\r\n            </el-dialog>\r\n          </div>\r\n        </el-col>\r\n        <el-col :span=\"12\">\r\n          <div class=\"grid-content bg-purple-light information\">\r\n            <div class=\"title\">\r\n              <h3>{{setCommodityData.name}}</h3>\r\n              <span>知名品牌</span>\r\n            </div>\r\n            <div class=\"activity-description\">\r\n              <a href=\"javascript:;\">\r\n                <i class=\"all\">全站</i>\r\n                <i class=\"activity\">活动</i>\r\n                <span>全场9.9包邮！下单再送京东E卡！了解详情＞＞＞</span>\r\n              </a>\r\n              <a href=\"javascript:;\">\r\n                <i class=\"all\">全站</i>\r\n                <i class=\"activity\">活动</i>\r\n                <span>全场9.9包邮！下单再送京东E卡！了解详情＞＞＞</span>\r\n              </a>\r\n              <a href=\"javascript:;\">\r\n                <i class=\"all\">全站</i>\r\n                <i class=\"activity\">活动</i>\r\n                <span>全场9.9包邮！下单再送京东E卡！了解详情＞＞＞</span>\r\n              </a>\r\n            </div>\r\n            <div class=\"tax\">\r\n              <ul>\r\n                <li>\r\n                  <p>含增值税</p>\r\n                </li>\r\n                <li v-for=\"i in priceGradientData\" :key=\"i.id\">\r\n                  <p>{{i.count}}+:&nbsp;&nbsp;</p>\r\n                  <span>\r\n                    ￥\r\n                    <i>{{i.price}}</i>/个\r\n                  </span>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n            <div class=\"select-num\">\r\n              <ul>\r\n                <li class=\"inventory\">\r\n                  <span>\r\n                    <i>现货库存：</i>\r\n                    <i>{{setCommodityData.stock}}</i> 个\r\n                  </span>\r\n                  <span>\r\n                    <i>近期销量：</i>\r\n                    <i>{{setCommodityData.sale}}</i> 个\r\n                  </span>\r\n                  <span>\r\n                    <a href=\"javascript:;\">可订货</a>\r\n                    <i class=\"el-icon-question\"></i>\r\n                  </span>\r\n                </li>\r\n                <li class=\"inventory\">\r\n                  <span>\r\n                    <i>购买数量：</i>\r\n                    <el-input-number\r\n                      v-model=\"buyNum\"\r\n                      @change=\"howMany\"\r\n                      :min=\"1\"\r\n                      :max=\"setCommodityData.stock\"\r\n                      size=\"mini\"\r\n                    ></el-input-number>✖\r\n                    <i class=\"price\">￥{{changePrice}}</i> =\r\n                    <i class=\"price\">￥{{(changePrice*buyNum).toFixed(2)}}</i>\r\n                    <i class=\"total\">(总价)</i>\r\n                  </span>\r\n                </li>\r\n                <li class=\"inventory\">\r\n                  <span>\r\n                    <i>按整包装：</i>\r\n                    <input\r\n                      type=\"text\"\r\n                      oninput=\"value=value.replace(/[^\\d]/g,'')\"\r\n                      style=\" text-align:center\"\r\n                      class=\"package_quantity\"\r\n                    >\r\n                    {{setCommodityData.unit}} （1{{setCommodityData.unit}}有{{setCommodityData.unitNum}}个）\r\n                  </span>\r\n                </li>\r\n              </ul>\r\n              <div class=\"buy-num\"></div>\r\n              <div class=\"pack\"></div>\r\n            </div>\r\n            <div class=\"add-cart\">\r\n              <el-button type=\"warning\" @click=\"addShoppingCart\">加入购物车</el-button>\r\n            </div>\r\n          </div>\r\n        </el-col>\r\n        <el-col :span=\"4\">\r\n          <div class=\"grid-content bg-purple\">\r\n            <div class=\"product_brand\">\r\n              <div class=\"product_brand_con\">\r\n                <div class=\"img_box\">\r\n                  <img\r\n                    src=\"https://alimg.szlcsc.com/upload/public/brand/logo/20180619/0DB6BD535BF2C3C5FFF49C46AB22836C.jpg\"\r\n                  >\r\n                </div>\r\n                <div class=\"item\">\r\n                  <span\r\n                    class=\"color9a9a9a inline_block layout_left\"\r\n                  >品&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;牌：</span>\r\n                  <span class=\"fw_b inline_block\">\r\n                    <a\r\n                      href=\"https://list.szlcsc.com/brand/450.html\"\r\n                      target=\"_blank\"\r\n                      class=\"trademark\"\r\n                    >{{setCommodityData.brandName}}</a>\r\n                  </span>\r\n                </div>\r\n                <div class=\"item\">\r\n                  <span class=\"color9a9a9a inline_block layout_left\">厂家型号：</span>\r\n                  <span class=\"inline_block\">{{setCommodityData.productType}}</span>\r\n                </div>\r\n                <div class=\"item\">\r\n                  <span class=\"color9a9a9a\">商品编号：</span>\r\n                  <span>{{setCommodityData.productSn}}</span>\r\n                </div>\r\n                <div class=\"item\">\r\n                  <span class=\"color9a9a9a layout_left inline_block\">封装规格：</span>\r\n                  <span class=\"layout_right inline_block\">{{setCommodityData.productSpecifications}}</span>\r\n                </div>\r\n                <div class=\"item\">\r\n                  <span class=\"color9a9a9a\">数据手册：</span>\r\n\r\n                  <a\r\n                    href=\"javascript:;\"\r\n                    class=\"color444\"\r\n                    id=\"downloadFile\"\r\n                    param-click=\"EE19BB4A4301AF90296C67311B688FC3\"\r\n                  >\r\n                    <i class=\"el-icon-folder-opened\"></i>\r\n                    <span>下载文件</span>\r\n                  </a>\r\n                </div>\r\n                <div class=\"item\">\r\n                  <span class=\"color9a9a9a\">商品毛重：</span>\r\n                  <span>{{setCommodityData.weight}} KG</span>\r\n                </div>\r\n              </div>\r\n              <div class=\"product_brand_tool\"></div>\r\n            </div>\r\n          </div>\r\n        </el-col>\r\n      </el-row>\r\n    </div>\r\n\r\n    <!-- 商品介绍 -->\r\n    <div class=\"details\">\r\n      <div class=\"header\">\r\n        <div class=\"introduce-tab\">\r\n          <a href=\"javascript:;\" class=\"active\">\r\n            商品介绍\r\n            <span class=\"left\"></span>\r\n          </a>\r\n          <a href=\"javascript:;\">\r\n            数据手册PDF\r\n            <span class=\"right\"></span>\r\n          </a>\r\n        </div>\r\n        <div class=\"correct\">\r\n          <i class=\"el-icon-warning\"></i>\r\n          <span>如果您发现商品信息不准确，</span>\r\n          <a href=\"javascript:;\">欢迎纠错</a>\r\n        </div>\r\n      </div>\r\n      <div class=\"main\">\r\n        <div class=\"introduce-title\">\r\n          <span></span>\r\n          <i>商品介绍</i>\r\n        </div>\r\n        <div class=\"texture\">\r\n          <p>\r\n            材质：\r\n            <i>X9R</i>\r\n          </p>\r\n        </div>\r\n        <div class=\"likeness\">\r\n          <p>\r\n            找到类似商品：\r\n            <i>9640</i> 种\r\n          </p>\r\n          <a href=\"javascript:;\">查看类似商品</a>\r\n        </div>\r\n        <div class=\"attribute-table\">\r\n          <el-table ref=\"multipleTable\" tooltip-effect=\"dark\" style=\"width: 100%\">\r\n            <el-table-column label=\"属性\" width=\"800\"></el-table-column>\r\n            <el-table-column label=\"参数值\"></el-table-column>\r\n            <el-table-column width=\"100\"></el-table-column>\r\n          </el-table>\r\n        </div>\r\n        <div class=\"look-btn\">\r\n          <el-button type=\"primary\" size=\"small\">查看类似商品</el-button>\r\n        </div>\r\n        <div class=\"introduce-title\">\r\n          <span></span>\r\n          <i>数据手册PDF</i>\r\n        </div>\r\n        <div class=\"content\">\r\n          <a href=\"javascript:;\">0402B393K160CT数据手册PDF下载</a>\r\n          <div class=\"pdf\">\r\n            <img\r\n              src=\"https://alimg.szlcsc.com/upload/public/pdf/image/20190509/C384814_3EAAFEC3E2DC68F44520744676E6B6C2/C384814_3EAAFEC3E2DC68F44520744676E6B6C2_0001.png\"\r\n              alt\r\n            >\r\n            <span class=\"el-icon-caret-left left\"></span>\r\n            <span class=\"el-icon-caret-right right\"></span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport imgZoom from \"vue2.0-zoom\";\r\nimport { decode } from \"punycode\";\r\nexport default {\r\n  inject: [\"reload\"],\r\n  data() {\r\n    return {\r\n      // 放大镜配置\r\n      configs: {\r\n        width: 500,\r\n        height: 500,\r\n        maskWidth: 150,\r\n        maskHeight: 150,\r\n        maskColor: \"#CFCFCF\",\r\n        maskOpacity: 0.3\r\n      },\r\n      // 图片切换\r\n      imgIsShow: -1,\r\n      // 登录提示框\r\n      dialogVisible: false,\r\n      categoryId: 0,\r\n      productId: 0,\r\n      setCommodityData: {},\r\n      imgArr: [],\r\n      buyNum: 1,\r\n      changePrice: 0,\r\n      // 价格梯度\r\n      priceGradientData: []\r\n    };\r\n  },\r\n  components: { imgZoom },\r\n\r\n  created() {\r\n    this.atPresent();\r\n    this.categoryId = this.$route.query.categoryId;\r\n    this.productId = this.$route.query.productId;\r\n    this.getCommodityData(this.categoryId, this.productId);\r\n  },\r\n\r\n  methods: {\r\n    // 获取商品信息\r\n    async getCommodityData(id1, id2) {\r\n      let res = await this.$http.get(\r\n        `/api/produce/getProductDetail?categoryId=${id1}&productId=${id2}`\r\n      );\r\n      this.setCommodityData = res.data.pmsProduct;\r\n      this.imgArr = this.setCommodityData.albumPics.split(\",\");\r\n      this.priceGradientData = res.data.productLadderList;\r\n      if (this.buyNum <= this.priceGradientData[0].count) {\r\n        this.changePrice = this.priceGradientData[0].price;\r\n      }\r\n    },\r\n\r\n    // 当前选中的图片\r\n    atPresent(index, e) {\r\n      this.imgIsShow = index;\r\n      console.log(this.imgIsShow);\r\n      if (!this.imgIsShow) {\r\n        index = 0;\r\n        this.imgIsShow = index;\r\n      }\r\n    },\r\n\r\n    // 上一张\r\n    last(index, e) {\r\n      this.imgIsShow--;\r\n    },\r\n\r\n    next() {\r\n      this.imgIsShow++;\r\n    },\r\n\r\n    // 商品价格\r\n    howMany(value) {\r\n      this.priceGradientData.forEach((pri, index) => {\r\n        if (this.buyNum >= this.priceGradientData[index].count) {\r\n          this.changePrice = this.priceGradientData[index].price;\r\n        } else if (this.buyNum <= this.priceGradientData[0].count) {\r\n          this.changePrice = this.priceGradientData[0].price;\r\n        }\r\n      });\r\n    },\r\n\r\n    // 加入购物车\r\n    async addShoppingCart(index) {\r\n      let data = {\r\n        brandName: this.setCommodityData.brandName,\r\n        picPath: this.setCommodityData.pic,\r\n        productName: this.setCommodityData.name,\r\n        productNumber: this.buyNum,\r\n        productId: this.setCommodityData.id,\r\n        productPrice: this.changePrice,\r\n        productSpecifications: this.setCommodityData.productSpecifications,\r\n        productType: this.setCommodityData.productType,\r\n        productSn: this.setCommodityData.productSn,\r\n        unit: this.setCommodityData.unit,\r\n        unitNum: this.setCommodityData.unitNum,\r\n        stock: this.setCommodityData.stock\r\n      };\r\n\r\n      let res = await this.$http.post(\"/api/member/cart/add\", data);\r\n      this.reload();\r\n      this.$message({\r\n        type: \"success\",\r\n        message: \"已成功加入购物车\"\r\n      });\r\n    },\r\n\r\n    // 收藏商品\r\n    async collectBtn() {\r\n       if (window.sessionStorage.getItem(\"token\")) {\r\n        // 调用接口\r\n        let res = await this.$http.post(\r\n          `/api/member/collection/addProduct?ids=${this.$route.query.productId}`\r\n        );\r\n        // 判断该商品是否已加入收藏;\r\n        if (res.data === 0) {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"当前收藏夹已有该商品！\"\r\n          });\r\n        } else {\r\n          this.$alert(\r\n            `<strong><div class='add_success'>\r\n      <span class='el-icon-success'></span>\r\n      <div>\r\n        <p class='title'>该商品已经成功添加到了您的收藏夹</p>\r\n        <p>\r\n        <a href='http://localhost:8080/#/shopping/member/favorite'>查看我的收藏夹</a></p>\r\n      </div>\r\n    </div></strong>`,\r\n            \"我的收藏\",\r\n            {\r\n              dangerouslyUseHTMLString: true\r\n            }\r\n          );\r\n        }\r\n      } else {\r\n        this.$confirm(\"您还没登录，请登录后再收藏。, 是否现在登录?\", \"提示\", {\r\n          confirmButtonText: \"确定\",\r\n          cancelButtonText: \"取消\",\r\n          type: \"warning\"\r\n        })\r\n          .then(() => {\r\n            this.$router.push(\"/login\");\r\n          })\r\n          .catch(() => {});\r\n      }\r\n    },\r\n\r\n    loginPromptBox(done) {\r\n      this.$confirm(\"确认关闭？\")\r\n        .then(_ => {\r\n          done();\r\n        })\r\n        .catch(_ => {});\r\n    },\r\n\r\n    gotoLogin() {\r\n      this.dialogVisible = false;\r\n      this.$router.push(\"/login\");\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\" scope>\r\n.detail-main {\r\n  margin-top: 20px;\r\n  .img-box {\r\n    text-align: center;\r\n\r\n    // 放大镜\r\n    .commodity-img {\r\n      #_magnifier_layer {\r\n        position: absolute;\r\n        z-index: 9999;\r\n        background: #f9f9f9;\r\n      }\r\n      ._magnifier {\r\n        position: relative;\r\n        display: inline-block;\r\n      }\r\n      ._magnifier img {\r\n        vertical-align: middle;\r\n      }\r\n      ._magnifier_zoom {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        z-index: 10;\r\n        pointer-events: none;\r\n      }\r\n    }\r\n\r\n    // 走马灯\r\n    .thum_cont {\r\n      margin-top: 8px;\r\n      display: flex;\r\n      justify-content: center;\r\n      position: relative;\r\n      .switchover {\r\n        display: flex;\r\n        width: 43px;\r\n        height: 43px;\r\n        margin: 0 8px;\r\n        border: 2px solid transparent;\r\n        &.active {\r\n          border: 2px solid #0093e6;\r\n        }\r\n        img {\r\n          display: block;\r\n          width: 100%;\r\n          height: 100%;\r\n        }\r\n      }\r\n\r\n      .arrows {\r\n        position: absolute;\r\n        font-size: 30px;\r\n        font-weight: bold;\r\n        top: 10px;\r\n        &.left {\r\n          left: 18px;\r\n        }\r\n        &.right {\r\n          right: 18px;\r\n        }\r\n        &:hover {\r\n          color: #0093e6;\r\n        }\r\n      }\r\n    }\r\n\r\n    .reminder {\r\n      padding-top: 6px;\r\n      text-align: center;\r\n      p {\r\n        color: #9a9a9a;\r\n        font-size: 12px;\r\n      }\r\n    }\r\n\r\n    .collect {\r\n      display: inline-block;\r\n      vertical-align: middle;\r\n      padding-right: 15px;\r\n      color: #444;\r\n      margin-top: 15px;\r\n      margin-left: -170px;\r\n      a {\r\n        padding-right: 15px;\r\n        color: #444;\r\n        i {\r\n          font-size: 16px;\r\n          color: #ff8c00;\r\n          display: inline-block;\r\n          vertical-align: middle;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // 商品信息\r\n  .information {\r\n    .title {\r\n      display: flex;\r\n      h3 {\r\n        font-size: 16px;\r\n        line-height: 24px;\r\n        font-weight: bold;\r\n        color: #000;\r\n        margin-right: 10px;\r\n      }\r\n      span {\r\n        color: #0093e6;\r\n        border: 1px solid #0093e6;\r\n        padding: 2px 6px;\r\n        display: inline-block;\r\n        vertical-align: text-top;\r\n      }\r\n    }\r\n    .activity-description {\r\n      margin-top: 20px;\r\n      padding-top: 10px;\r\n      border-top: 1px solid #e9e9e9;\r\n      a {\r\n        display: block;\r\n        margin: 5px 0;\r\n        .all {\r\n          background-color: #ff8c00;\r\n          border-radius: 0 6px 6px 0;\r\n          color: #fff;\r\n          padding: 2px 4px;\r\n        }\r\n        .activity {\r\n          border: 1px solid #ff8c00;\r\n          border-radius: 6px 0 0 6px;\r\n          color: #ff8c00;\r\n          padding: 1px 4px;\r\n        }\r\n        span {\r\n          color: #0093e6;\r\n        }\r\n      }\r\n    }\r\n    // 增值税\r\n    .tax {\r\n      margin-top: 30px;\r\n      ul {\r\n        li {\r\n          height: 26px;\r\n          color: #444;\r\n          p {\r\n            float: left;\r\n            width: 40%;\r\n            text-align: right;\r\n          }\r\n          span:nth-of-type(1) {\r\n            float: left;\r\n            color: #ff7900;\r\n          }\r\n          span:nth-of-type(2) {\r\n            color: #9a9a9a;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    // 购买填写信息\r\n    .select-num {\r\n      ul {\r\n        .inventory {\r\n          line-height: 40px;\r\n          span {\r\n            i {\r\n              &:nth-of-type(1) {\r\n                color: #9a9a9a;\r\n              }\r\n            }\r\n            .el-icon-question {\r\n              font-size: 20px;\r\n            }\r\n            .price {\r\n              color: #ff7900;\r\n              font-size: 14px;\r\n              font-weight: bold;\r\n            }\r\n            .total {\r\n              color: #ff7900;\r\n              margin-left: 10px;\r\n            }\r\n            .package_quantity {\r\n              height: 22px;\r\n              width: 128px;\r\n              line-height: 26px;\r\n              border: 1px solid #dcdfe6;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    //加入购物车\r\n    .add-cart {\r\n      padding-top: 20px;\r\n      border-top: 1px solid #e9e9e9;\r\n    }\r\n  }\r\n\r\n  // 品牌信息\r\n  .product_brand {\r\n    float: right;\r\n    .img_box {\r\n      box-sizing: border-box;\r\n      width: 100%;\r\n      height: 70px;\r\n      text-align: center;\r\n      border: 1px solid #e9e9e9;\r\n      img {\r\n        margin-top: 8px;\r\n      }\r\n    }\r\n    .item {\r\n      margin-top: 5px;\r\n      .color9a9a9a {\r\n        color: #9a9a9a;\r\n      }\r\n      .inline_block {\r\n        overflow: hidden;\r\n        white-space: nowrap;\r\n        text-overflow: ellipsis;\r\n        width: 65%;\r\n        .trademark {\r\n          font-weight: bold;\r\n          color: #444;\r\n          &:hover {\r\n            color: #0093e6;\r\n          }\r\n        }\r\n        .layout_left {\r\n          width: 60px;\r\n        }\r\n      }\r\n      .el-icon-folder-opened {\r\n        color: #0093e6;\r\n        font-size: 20px;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// 商品介绍\r\n.details {\r\n  .header {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    border-bottom: 2px solid #0093e6;\r\n    .introduce-tab {\r\n      text-align: center;\r\n      a {\r\n        display: inline-block;\r\n        font-size: 16px;\r\n        color: #444;\r\n        margin: 10px 30px;\r\n        position: relative;\r\n        &.active {\r\n          color: #0093e6;\r\n        }\r\n        span {\r\n          position: absolute;\r\n          width: 0;\r\n          height: 0;\r\n          border-left: 6px solid transparent;\r\n          border-right: 6px solid transparent;\r\n          border-bottom: 6px solid #0093e6;\r\n          left: 25px;\r\n          bottom: -10px;\r\n          &.right {\r\n            left: 38px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .correct {\r\n      line-height: 38px;\r\n      margin: 0 30px;\r\n      .el-icon-warning {\r\n        color: #ff7900;\r\n        font-size: 20px;\r\n        line-height: 20px;\r\n      }\r\n      a {\r\n        color: #0093e6;\r\n        text-decoration: underline;\r\n      }\r\n    }\r\n  }\r\n\r\n  .main {\r\n    padding: 30px;\r\n    .introduce-title {\r\n      text-align: center;\r\n      margin: 30px 0;\r\n      i {\r\n        font-size: 16px;\r\n        line-height: 16px;\r\n        font-weight: bold;\r\n        color: #686868;\r\n      }\r\n    }\r\n\r\n    .texture {\r\n      font-size: 14px;\r\n      line-height: 40px;\r\n    }\r\n\r\n    .likeness {\r\n      box-sizing: border-box;\r\n      padding: 0 16px;\r\n      height: 38px;\r\n      line-height: 38px;\r\n      background: #fdf2e9;\r\n      font-size: 14px;\r\n      p {\r\n        display: inline-block;\r\n        i {\r\n          color: #ff7900;\r\n          font-weight: bold;\r\n        }\r\n      }\r\n      a {\r\n        font-weight: bold;\r\n        color: #0093e6;\r\n        margin-left: 30px;\r\n      }\r\n    }\r\n\r\n    .attribute-table {\r\n      .el-table {\r\n        .has-gutter {\r\n          tr {\r\n            th {\r\n              color: #333;\r\n              text-align: center;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    .look-btn {\r\n      text-align: right;\r\n    }\r\n\r\n    .content {\r\n      text-align: center;\r\n      & > a {\r\n        font-size: 16px;\r\n        color: #0093e6;\r\n        text-decoration: underline;\r\n      }\r\n      .pdf {\r\n        margin: 20px auto;\r\n        border: 20px solid #cccccc;\r\n        width: 800px;\r\n        height: 1035px;\r\n        position: relative;\r\n        img {\r\n          width: 100%;\r\n          height: 100%;\r\n        }\r\n        span {\r\n          color: #fff;\r\n          font-size: 50px;\r\n          background-color: #7f7f7f;\r\n          position: absolute;\r\n          top: 480px;\r\n          &.right {\r\n            right: 0;\r\n          }\r\n          &.left {\r\n            left: 0;\r\n          }\r\n          &:hover {\r\n            background-color: #0093e6;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// 弹出框样式\r\n.add_success {\r\n  display: flex;\r\n  justify-content: center;\r\n  .el-icon-success {\r\n    font-size: 60px;\r\n    color: #71c000;\r\n    margin-right: 20px;\r\n  }\r\n  .title {\r\n    font-size: 18px;\r\n    color: #71c000;\r\n    line-height: 30px;\r\n  }\r\n  a {\r\n    color: #000;\r\n    line-height: 20px;\r\n  }\r\n}\r\n</style>"],"sourceRoot":"src/components/pages/tabPages"}]}