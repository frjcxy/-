{"remainingRequest":"C:\\Users\\Asus\\Desktop\\lcsc-demo\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Asus\\Desktop\\lcsc-demo\\src\\components\\pages\\memberPages\\order\\list.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Asus\\Desktop\\lcsc-demo\\src\\components\\pages\\memberPages\\order\\list.vue","mtime":1560738790681},{"path":"C:\\Users\\Asus\\Desktop\\lcsc-demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Asus\\Desktop\\lcsc-demo\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Asus\\Desktop\\lcsc-demo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Asus\\Desktop\\lcsc-demo\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      // 订单数据\r\n      orderData: [],\r\n      value: \"\",\r\n      currentPage4: 1,\r\n      btnIsShow: false,\r\n      statusIsShow: false,\r\n      addLogoVisible: false, //添加BOM 标识弹框\r\n      textarea: \"添加BOM标识\"\r\n    };\r\n  },\r\n  created() {\r\n    this.getOrderData();\r\n  },\r\n  methods: {\r\n    //获取订单\r\n    async getOrderData() {\r\n      let res = await this.$http.get(`/api/member/order/orderlist?status=6`);\r\n      console.log(res);\r\n\r\n      this.orderData = res.data;\r\n    },\r\n\r\n    handleSizeChange(val) {\r\n      console.log(`每页 ${val} 条`);\r\n    },\r\n    handleCurrentChange(val) {\r\n      console.log(`当前页: ${val}`);\r\n    },\r\n    //高级筛选\r\n    advanced() {\r\n      this.btnIsShow = !this.btnIsShow;\r\n    },\r\n    exportDetail() {\r\n      this.statusIsShow = !this.statusIsShow;\r\n    },\r\n\r\n    //删除确认框\r\n    confirmDeletion(num) {\r\n      this.$confirm(\"您确定删除该订单吗？\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\",\r\n        center: true\r\n      })\r\n        .then(async () => {\r\n          let res = await this.$http.get(\r\n            `/api/member/order/removeOrderById?orderSn=${num}`\r\n          );\r\n          console.log(res);\r\n\r\n          this.$message({\r\n            type: \"success\",\r\n            message: \"删除成功!\"\r\n          });\r\n          this.getOrderData();\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"已取消删除\"\r\n          });\r\n        });\r\n    }\r\n  }\r\n};\r\n",{"version":3,"sources":["list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"list.vue","sourceRoot":"src/components/pages/memberPages/order","sourcesContent":["<template>\r\n  <div id=\"list\">\r\n    <!-- 订单管理 -->\r\n    <div class=\"member-title\">\r\n      <h3>订单管理</h3>\r\n    </div>\r\n    <div class=\"order-search\">\r\n      <div class=\"search\">\r\n        <span>订单号/BOM标识：</span>\r\n        <el-input></el-input>\r\n        <span class=\"keyword\">关键字：</span>\r\n        <el-input placeholder=\"商品编号/型号/名称/目录\"></el-input>\r\n        <el-button type=\"primary\">查询</el-button>\r\n        <span class=\"advanced isshow\">\r\n          高级筛选\r\n          <a href=\"javascript:;\" @click=\"advanced\">\r\n            <i :class=\"btnIsShow?'el-icon-arrow-up':'el-icon-arrow-down'\"></i>\r\n          </a>\r\n        </span>\r\n        <span class=\"educe isshow\">\r\n          导出对账明细\r\n          <a href=\"javascript:;\" @click=\"exportDetail\">\r\n            <i :class=\"statusIsShow?'el-icon-arrow-up':'el-icon-arrow-down'\"></i>\r\n          </a>\r\n        </span>\r\n      </div>\r\n    </div>\r\n    <div class=\"state\">\r\n      <div class=\"time\">\r\n        <span>购买时间：</span>\r\n        <el-date-picker\r\n          type=\"daterange\"\r\n          range-separator=\"至\"\r\n          start-placeholder=\"开始日期\"\r\n          end-placeholder=\"结束日期\"\r\n        ></el-date-picker>\r\n        <el-button type=\"primary\" class=\"export\" v-show=\"btnIsShow\">导出</el-button>\r\n      </div>\r\n      <div class=\"status_box\" v-show=\"statusIsShow\">\r\n        <div class=\"order-status\">\r\n          <span>订单状态：</span>\r\n          <el-select placeholder=\"请选择\" value=\"1\">\r\n            <el-option></el-option>\r\n          </el-select>\r\n        </div>\r\n        <div class=\"pay-status\">\r\n          <span>支付状态：</span>\r\n          <el-select placeholder=\"请选择\" value=\"1\">\r\n            <el-option></el-option>\r\n          </el-select>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"no-orders\">\r\n      <!-- 无订单 -->\r\n      <span>\r\n        您暂时没有订单哦，赶紧去\r\n        <router-link to=\"/shopping/index\">选购元器件</router-link>吧！\r\n      </span>\r\n      <!-- 有订单 -->\r\n      <ul class=\"order_form\">\r\n        <li v-for=\"(item,index) in orderData\" :key=\"index\">\r\n          <div class=\"list_title\">\r\n            <div class=\"title_left\">\r\n              <span>{{item.omsOrder.createTime | formatTime}}</span>\r\n              <span>\r\n                订单编号：\r\n                <a href=\"javascript:;\">{{item.omsOrder.orderSn}}</a>\r\n              </span>\r\n            </div>\r\n            <div class=\"title_right\">\r\n              <a href=\"javascript:;\" @click=\"addLogoVisible=true\">{{textarea}}</a>\r\n              <a\r\n                href=\"javascript:;\"\r\n                @click=\"confirmDeletion(item.omsOrderItem.orderSn)\"\r\n                class=\"el-icon-delete\"\r\n              ></a>\r\n            </div>\r\n          </div>\r\n          <div class=\"list_content\">\r\n            <el-row>\r\n              <el-col :span=\"2\">\r\n                <div class=\"grid-content bg-purple list_img\">\r\n                  <img :src=\"item.omsOrderItem.productPic\" alt>\r\n                </div>\r\n              </el-col>\r\n              <el-col :span=\"6\">\r\n                <div class=\"grid-content bg-purple-light list_name\">\r\n                  <p>{{item.omsOrderItem.productName}}</p>\r\n                  <p>\r\n                    <a href=\"javascript:;\">TC444464</a>/10uf（106\r\n                  </p>\r\n                  <p>编号：{{item.omsOrderItem.productSn}}</p>\r\n                </div>\r\n              </el-col>\r\n              <el-col :span=\"4\">\r\n                <div class=\"grid-content bg-purple list_num\">\r\n                  <p>{{item.omsOrderItem.productQuantity}}个</p>\r\n                  <p>{{item.omsOrderItem.productPrice}}元/个</p>\r\n                  <p>￥{{item.omsOrder.payAmount-item.omsOrder.freightAmount}}</p>\r\n                </div>\r\n              </el-col>\r\n              <el-col :span=\"5\">\r\n                <div class=\"grid-content bg-purple-light list_total_prices\">\r\n                  <p>\r\n                    <el-tooltip class=\"item\" effect=\"light\" placement=\"left\">\r\n                      <div slot=\"content\">\r\n                        {{item.omsOrder.memberUsername}}\r\n                        <br>\r\n                        地址 : {{item.omsOrder.receiverProvince+item.omsOrder.receiverCity+item.omsOrder.receiverRegion+item.omsOrder.receiverDetailAddress}}\r\n                        <br>\r\n                        电话号码 : {{item.omsOrder.contactPhone}}\r\n                      </div>\r\n                      <span>\r\n                        root\r\n                        <i class=\"el-icon-s-custom\"></i>\r\n                      </span>\r\n                    </el-tooltip>\r\n                  </p>\r\n                  <p>合计： ￥{{item.omsOrder.payAmount}}元</p>\r\n                  <p>\r\n                    （含运费\r\n                    <i>{{item.omsOrder.freightAmount}}</i> 元）\r\n                  </p>\r\n                  <p v-text=\"item.omsOrder.status===0?'未付款':'已付款'\"></p>\r\n                </div>\r\n              </el-col>\r\n              <el-col :span=\"4\">\r\n                <div class=\"grid-content bg-purple list_logistics\">\r\n                  <p>等待付款</p>\r\n                  <p>\r\n                    <el-tooltip class=\"item\" effect=\"light\" placement=\"left\">\r\n                      <div slot=\"content\">\r\n                        <el-timeline>\r\n                          <el-timeline-item timestamp=\"2018/4/12\" placement=\"top\">\r\n                            <el-card>\r\n                              <h4>更新 Github 模板</h4>\r\n                              <p>2018/4/12 20:46</p>\r\n                            </el-card>\r\n                          </el-timeline-item>\r\n                          <el-timeline-item timestamp=\"2018/4/3\" placement=\"top\">\r\n                            <el-card>\r\n                              <h4>更新 Github 模板</h4>\r\n                              <p>2018/4/3 20:46</p>\r\n                            </el-card>\r\n                          </el-timeline-item>\r\n                          <el-timeline-item timestamp=\"2018/4/2\" placement=\"top\">\r\n                            <el-card>\r\n                              <h4>更新 Github 模板</h4>\r\n                              <p>2018/4/2 20:46</p>\r\n                            </el-card>\r\n                          </el-timeline-item>\r\n                          <el-timeline-item timestamp=\"2018/4/2\" placement=\"top\">\r\n                            <el-card>\r\n                              <h4>更新 Github 模板</h4>\r\n                              <p>2018/4/2 20:46</p>\r\n                            </el-card>\r\n                          </el-timeline-item>\r\n                          <el-timeline-item timestamp=\"2018/4/2\" placement=\"top\">\r\n                            <el-card>\r\n                              <h4>更新 Github 模板</h4>\r\n                              <p>2018/4/2 20:46</p>\r\n                            </el-card>\r\n                          </el-timeline-item>\r\n                          <el-timeline-item timestamp=\"2018/4/2\" placement=\"top\">\r\n                            <el-card>\r\n                              <h4>更新 Github 模板</h4>\r\n                              <p>2018/4/2 20:46</p>\r\n                            </el-card>\r\n                          </el-timeline-item>\r\n                        </el-timeline>\r\n                      </div>\r\n                      <span>进度跟踪</span>\r\n                    </el-tooltip>\r\n                  </p>\r\n                </div>\r\n              </el-col>\r\n              <el-col :span=\"3\">\r\n                <div class=\"grid-content bg-purple-light list_operation\">\r\n                  <p>\r\n                    <a href=\"javascript:;\">剩余1天23时59分</a>\r\n                  </p>\r\n                  <p>\r\n                    <el-button type=\"warning\">付款</el-button>\r\n                  </p>\r\n                  <p>\r\n                    <a href=\"javascript:;\">找人代付</a>\r\n                  </p>\r\n                  <p>\r\n                    <a href=\"javascript:;\">取消订单</a>\r\n                  </p>\r\n                </div>\r\n              </el-col>\r\n            </el-row>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <!-- 分页 -->\r\n    <el-pagination\r\n      class=\"pages\"\r\n      @size-change=\"handleSizeChange\"\r\n      @current-change=\"handleCurrentChange\"\r\n      :current-page=\"currentPage4\"\r\n      :page-sizes=\"[100, 200, 300, 400]\"\r\n      :page-size=\"100\"\r\n      layout=\"total, sizes, prev, pager, next, jumper\"\r\n      :total=\"400\"\r\n    ></el-pagination>\r\n    <!-- 添加BOM 标识弹框 -->\r\n    <el-dialog title=\"SO190666664--BOM标识\" :visible.sync=\"addLogoVisible\" width=\"25%\">\r\n      <span class=\"dialog-content\">\r\n        <p>您对此订单添加备注，是方便您自己辨识和日后查找</p>\r\n        <p>注意：此备注不是给我商城工作人员的备注，千万别误解。</p>\r\n        <el-input\r\n          type=\"textarea\"\r\n          :rows=\"2\"\r\n          maxlength=\"20\"\r\n          placeholder=\"请输入BOM标识备注：（20个字符以内）\"\r\n          v-model=\"textarea\"\r\n        ></el-input>\r\n      </span>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" size=\"mini\" @click=\"addLogoVisible=false\">保存</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      // 订单数据\r\n      orderData: [],\r\n      value: \"\",\r\n      currentPage4: 1,\r\n      btnIsShow: false,\r\n      statusIsShow: false,\r\n      addLogoVisible: false, //添加BOM 标识弹框\r\n      textarea: \"添加BOM标识\"\r\n    };\r\n  },\r\n  created() {\r\n    this.getOrderData();\r\n  },\r\n  methods: {\r\n    //获取订单\r\n    async getOrderData() {\r\n      let res = await this.$http.get(`/api/member/order/orderlist?status=6`);\r\n      console.log(res);\r\n\r\n      this.orderData = res.data;\r\n    },\r\n\r\n    handleSizeChange(val) {\r\n      console.log(`每页 ${val} 条`);\r\n    },\r\n    handleCurrentChange(val) {\r\n      console.log(`当前页: ${val}`);\r\n    },\r\n    //高级筛选\r\n    advanced() {\r\n      this.btnIsShow = !this.btnIsShow;\r\n    },\r\n    exportDetail() {\r\n      this.statusIsShow = !this.statusIsShow;\r\n    },\r\n\r\n    //删除确认框\r\n    confirmDeletion(num) {\r\n      this.$confirm(\"您确定删除该订单吗？\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\",\r\n        center: true\r\n      })\r\n        .then(async () => {\r\n          let res = await this.$http.get(\r\n            `/api/member/order/removeOrderById?orderSn=${num}`\r\n          );\r\n          console.log(res);\r\n\r\n          this.$message({\r\n            type: \"success\",\r\n            message: \"删除成功!\"\r\n          });\r\n          this.getOrderData();\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"已取消删除\"\r\n          });\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\" scope>\r\n// 用户信息文字提示\r\n.el-tooltip__popper {\r\n  width: 360px;\r\n  line-height: 24px;\r\n  padding: 20px;\r\n  .el-timeline {\r\n    height: 300px;\r\n    overflow-y: auto;\r\n    .el-card__body {\r\n      padding: 10px;\r\n    }\r\n  }\r\n}\r\n.el-tooltip__popper.is-light {\r\n  border: 1px solid #888;\r\n}\r\n#list {\r\n  .order-search {\r\n    display: flex;\r\n    margin: 20px 0;\r\n    .keyword {\r\n      margin-left: 20px;\r\n    }\r\n    .el-input {\r\n      width: 200px;\r\n      .el-input__inner {\r\n        width: 100%;\r\n        height: 30px;\r\n        line-height: 30px;\r\n      }\r\n    }\r\n    .el-button {\r\n      padding: 6px 14px;\r\n      margin-left: 20px;\r\n    }\r\n    .isshow {\r\n      margin-left: 40px;\r\n      a {\r\n        i {\r\n          border: 1px solid #dedede;\r\n          padding: 4px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .state {\r\n    display: flex;\r\n    .time {\r\n      margin-left: 50px;\r\n      .el-input__inner {\r\n        width: 300px;\r\n        height: 30px;\r\n        line-height: 30px;\r\n        margin-right: 10px;\r\n        .el-input__icon {\r\n          height: 30px;\r\n          line-height: 30px;\r\n        }\r\n        .el-range-separator {\r\n          height: 30px;\r\n          line-height: 30px;\r\n        }\r\n      }\r\n      .export {\r\n        padding: 5px 10px;\r\n        border-radius: 0;\r\n      }\r\n    }\r\n\r\n    .el-input {\r\n      width: 120px;\r\n      .el-input__inner {\r\n        width: 100%;\r\n        height: 30px;\r\n        line-height: 30px;\r\n      }\r\n      .el-input__icon {\r\n        height: 30px;\r\n        line-height: 30px;\r\n      }\r\n    }\r\n    .status_box {\r\n      display: flex;\r\n      .order-status {\r\n        margin-left: 40px;\r\n      }\r\n      .pay-status {\r\n        margin-left: 20px;\r\n      }\r\n    }\r\n  }\r\n\r\n  .no-orders {\r\n    text-align: center;\r\n    margin: 30px 0 20px 0;\r\n    // 无订单\r\n    span {\r\n      a {\r\n        text-decoration: underline;\r\n        color: #0bf;\r\n      }\r\n    }\r\n    //有订单\r\n    .order_form {\r\n      li {\r\n        border: 1px solid #eee;\r\n        .list_title {\r\n          width: 100%;\r\n          line-height: 40px;\r\n          box-sizing: border-box;\r\n          padding: 0 15px;\r\n          background-color: #eee;\r\n          display: flex;\r\n          justify-content: space-between;\r\n          .title_left {\r\n            span {\r\n              &:nth-last-of-type(1) {\r\n                margin-left: 40px;\r\n                a {\r\n                  color: #0093e6;\r\n                }\r\n              }\r\n            }\r\n          }\r\n          .title_right {\r\n            a {\r\n              &:nth-of-type(1) {\r\n                margin-right: 40px;\r\n                text-decoration: underline;\r\n              }\r\n              &:nth-of-type(2) {\r\n                font-size: 18px;\r\n              }\r\n            }\r\n          }\r\n        }\r\n        .list_content {\r\n          padding: 15px 20px;\r\n          .el-row {\r\n            text-align: left;\r\n            p {\r\n              line-height: 24px;\r\n            }\r\n            .list_img {\r\n              img {\r\n                width: 50px;\r\n                height: 50px;\r\n              }\r\n            }\r\n            .list_name {\r\n              a {\r\n                color: #0093e6;\r\n              }\r\n            }\r\n            .list_num {\r\n              color: #9a9a9a;\r\n            }\r\n            .list_total_prices {\r\n              text-align: center;\r\n              p {\r\n                &:nth-last-of-type(1),\r\n                &:nth-last-of-type(2) > i {\r\n                  color: #f00;\r\n                }\r\n              }\r\n            }\r\n            .list_logistics {\r\n              text-align: center;\r\n              p {\r\n                &:nth-of-type(1) {\r\n                  color: #9a9a9a;\r\n                }\r\n              }\r\n            }\r\n            .list_operation {\r\n              text-align: center;\r\n              .el-button {\r\n                padding: 4px 20px;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .pages {\r\n    text-align: right;\r\n  }\r\n\r\n  // BOM弹框\r\n  .el-dialog {\r\n    border: 4px solid #eee;\r\n    .el-dialog__body {\r\n      padding-bottom: 10px;\r\n      .dialog-content {\r\n        font-size: 12px;\r\n        line-height: 24px;\r\n        p {\r\n          &:nth-last-of-type(1) {\r\n            color: #f00;\r\n          }\r\n        }\r\n        .el-textarea {\r\n          margin-top: 10px;\r\n          font-size: 12px;\r\n        }\r\n      }\r\n    }\r\n    .el-dialog__footer {\r\n      .dialog-footer {\r\n        display: flex;\r\n        justify-content: center;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>"]}]}